<!DOCTYPE html>
<html lang="en" class="dark light">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="base" content="https:&#x2F;&#x2F;seniormars.com">

    

    
    
    
    <title>
         An Experienced (Neo)Vimmer&#x27;s Workflow
        
    </title>

        
            <meta property="og:title" content="An Experienced (Neo)Vimmer&#x27;s Workflow" />
        
     

     
         
             <meta property="og:description" content="A guy decides to show off his Neovim setup." />
         
     

     
         
             <meta name="description" content="A guy decides to show off his Neovim setup." />
         
    
        <meta name="theme-color" media="(prefers-color-scheme: light)" content="#FFFFFF" />
        <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0E1018" />
    
        <link rel="icon" type="image/png" href=&#x2F;icons&#x2F;favicon.ico />
        
        
            <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
            <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
            <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
            <link rel="manifest" href="/icons/site.webmanifest">
            <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#ff6f3c">
            <meta name="apple-mobile-web-app-title" content="SeniorMars">
            <meta name="application-name" content="SeniorMars">
            <meta name="msapplication-TileColor" content="#333333">
            <meta name="theme-color" content="#333333">
        
    

    
    
        <link href=https://seniormars.com/fonts.css rel="stylesheet" />
    

    
    
        

        
            
            

            <script data-goatcounter="https://seniormars.goatcounter.com/count" async src="https://seniormars.com/js/count.js"></script>
            <noscript>
                
                <img src="https://seniormars.goatcounter.com//count?p=&#x2F;posts&#x2F;neovim-workflow&#x2F;&t=An Experienced (Neo)Vimmer&#x27;s Workflow">
            </noscript>
        
    

    
    
        <script src=https://seniormars.com/js/codeblock.js></script>
    

    
    

    
    
        <script src=https://seniormars.com/js/toc.js></script>
    

    
    
        <script src=https://seniormars.com/js/note.js></script>
    

    
        
        <script>
            MathJax = {
              loader: { load: ['input/asciimath'] },
              output: {
                  displayOverflow: 'linebreak',
                      linebreaks: {
                          inline: true,
                          width: '100%',
                          lineleading: .2,
                          LinebreakVisitor: null,
                  }
              },
              tex: {
                inlineMath: [['$', '$']],
                processEscapes: true,
              },
              svg: {
                fontCache: 'global'
              }
            };
        </script>
        
        <script type="text/javascript" id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@4.0.0-beta.7/tex-mml-chtml.js">
        </script>
    

    
    
        <link rel="alternate" type="application/rss+xml" title="SeniorMars" href="https://seniormars.com/rss.xml">
    

    
    
        <link rel="stylesheet" type="text/css" href=https://seniormars.com/theme/light.css />
        <link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://seniormars.com/theme/dark.css" />
    
    
    <!-- Set the correct theme in the script -->
    <script src=https://seniormars.com/js/themetoggle.js></script>
    
        <script>setTheme(getSavedTheme());</script>
    

    
    <link rel="stylesheet" type="text/css" media="screen" href=https://seniormars.com/main.css />

    

    
    
        <script src=https://seniormars.com/js/mermaid.js></script>
    

    
        <script defer src="https://seniormars.com/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e"></script></head>


<body>
    <div class="content">
        <header>
    <div class="main">
        
            <a href=https:&#x2F;&#x2F;seniormars.com>SeniorMars</a>
        


        <div class="socials">
            
            <a rel="me" href="https:&#x2F;&#x2F;github.com&#x2F;seniormars&#x2F;" class="social">
                <img alt=github src=https://seniormars.com/social_icons/github.svg>
            </a>
            
            <a rel="me" href="https:&#x2F;&#x2F;www.youtube.com&#x2F;seniormarstries" class="social">
                <img alt=youtube src=https://seniormars.com/social_icons/youtube.svg>
            </a>
            
            <a rel="me" href="&#x2F;rss.xml" class="social">
                <img alt=rss src=https://seniormars.com/social_icons/rss.svg>
            </a>
            
        </div>
    </div>

    <nav>
        
            <a href=https://seniormars.com/posts class="nav-item">&#x2F;posts</a>
        
            <a href=https://seniormars.com/projects class="nav-item">&#x2F;projects</a>
        
            <a href=https://seniormars.com/about class="nav-item">&#x2F;about</a>
        
            <a href=https://seniormars.com/etc class="nav-item">&#x2F;etc</a>
        

        
            <button 
                id="search-button"
                class="search-button"
                title="$SHORTCUT to open search"
            >
                <img 
                    src="https://seniormars.com/search.svg" 
                    alt="Search" 
                    class="search-icon"
                >
            </button>

            <div id="searchModal" class="search-modal js" role="dialog" aria-labelledby="modalTitle">
                <div id="modal-content">
                    <h1 id="modalTitle" class="page-header">Search</h1>
                    <div id="searchBar">
                        <input 
                            id="searchInput" 
                            role="combobox" 
                            autocomplete="off" 
                            spellcheck="false" 
                            aria-expanded="false" 
                            aria-controls="results-container" 
                            placeholder="Search..."
                        />
                        <button 
                            id="clear-search" 
                            class="clear-button"
                            title="Clear search"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                                <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
                            </svg>
                        </button>
                    </div>
                    <div id="results-container">
                        <div id="results-info">
                            <span id="zero_results" style="display: none;">No results</span>
                            <span id="one_result" style="display: none;">1 result</span>
                            <span id="many_results" style="display: none;">$NUMBER results</span>
                        </div>
                        <div id="results" role="listbox"></div>
                    </div>
                </div>
            </div>
        

        
            <a id="dark-mode-toggle" onclick="toggleTheme(); event.preventDefault();" href="#">
                <img src=https://seniormars.com/feather/sun.svg id="sun-icon" style="filter: invert(1);" alt="Light" />
                <img src=https://seniormars.com/feather/moon.svg id="moon-icon" alt="Dark" />
            </a>

            <!-- Inititialize the theme toggle icons -->
            <script>updateItemToggleTheme()</script>
        
    </nav>
</header>


        
        
    
<main>
    <article>
        <div class="title">
            
            
    <div class="page-header">
        An Experienced (Neo)Vimmer&#x27;s Workflow<span class="primary-color" style="font-size: 1.6em">.</span>
    </div>


                <div class="meta">
                    
                        Posted on <time>2024-06-25</time>
                    

                    

                    
                        :: <time>14</time> Min Read
                    

                    
                    
                            <span class="tags-label"> :: Tags:</span>
                            <span class="tags">
                                    <a href="https://seniormars.com/tags/tutorial/" class="post-tag">tutorial</a>, 
                                
                                    <a href="https://seniormars.com/tags/educational/" class="post-tag">educational</a>
                                
                            </span>
                    

                    
                    

                        
                        
                            
                        

                        
                            
                            :: <a href="https:&#x2F;&#x2F;github.com&#x2F;SeniorMars&#x2F;seniormars.com&#x2F;blob&#x2F;main&#x2F;content&#x2F;posts&#x2F;neovim_workflow&#x2F;index.md" target="_blank" rel="noopener noreferrer"> Source Code</a>
                        
                    

                    

                </div>
        </div>

        

        
        
        
            <div class="toc-container">
                <h1 class="toc-title">Table of Contents</h1>
                <ul class="toc-list">
                    
                        <li>
                            <a href="https://seniormars.com/posts/neovim-workflow/#motivation">Motivation</a>
                            
                        </li>
                    
                        <li>
                            <a href="https://seniormars.com/posts/neovim-workflow/#improving-the-neo-vim-experience">Improving the (Neo)Vim Experience</a>
                            
                                <ul>
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#search-and-replace">Search and Replace</a>
                                        </li>

                                        
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#ex-commands-and-g-command">Ex Commands and g command</a>
                                        </li>

                                        
                                    
                                </ul>
                            
                        </li>
                    
                        <li>
                            <a href="https://seniormars.com/posts/neovim-workflow/#undo-and-redo">Undo and Redo</a>
                            
                                <ul>
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#movement">Movement</a>
                                        </li>

                                        
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#better-quickfix">Better quickfix</a>
                                        </li>

                                        
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#spell-check">Spell Check</a>
                                        </li>

                                        
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#status-line">Status Line</a>
                                        </li>

                                        
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#formatting">Formatting</a>
                                        </li>

                                        
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#better-netrw">Better netrw</a>
                                        </li>

                                        
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#git-integration">Git Integration</a>
                                        </li>

                                        
                                    
                                </ul>
                            
                        </li>
                    
                        <li>
                            <a href="https://seniormars.com/posts/neovim-workflow/#getting-the-full-power-out-of-neovim">Getting the full power out of Neovim</a>
                            
                                <ul>
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#treesitter">Treesitter</a>
                                        </li>

                                        
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#better-terminal">Better terminal</a>
                                        </li>

                                        
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#telescope">Telescope</a>
                                        </li>

                                        
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#completion">Completion</a>
                                        </li>

                                        
                                            <ul>
                                                
                                                    <li>
                                                        <a href="https://seniormars.com/posts/neovim-workflow/#copilot">Copilot</a>
                                                    </li>
                                                
                                                    <li>
                                                        <a href="https://seniormars.com/posts/neovim-workflow/#coc-nvim">Coc.nvim</a>
                                                    </li>
                                                
                                            </ul>
                                        
                                    
                                        <li>
                                            <a href="https://seniormars.com/posts/neovim-workflow/#latex">Latex</a>
                                        </li>

                                        
                                    
                                </ul>
                            
                        </li>
                    
                        <li>
                            <a href="https://seniormars.com/posts/neovim-workflow/#conclusions">Conclusions</a>
                            
                        </li>
                    
                </ul>
            </div>
        
        

        <section class="body">
            <h1 id="motivation"><a class="zola-anchor" href="#motivation" aria-label="Anchor link for: motivation">Motivation</a></h1>
<p>Ever since <a rel="noreferrer" href="https://github.com/tjdevries">TJ</a> said “Personalized Development Environment,” the phrase latched onto me like a cobweb in a mineshaft. A Personalized Development Environment (PDE) describes an ideal setup that is tailored to your needs and preferences – it lies between a bare-bone text editor and a full-fledged IDE. It is a place where you can be productive, efficient, and comfortable. It is a place that suits you and only you.</p>
<p>I started using Vim in my sophomore year of high school when my computer couldn’t run Visual Studio Code and Windows simultaneously, so the terminal (and Linux) became my home. I still remember my early days as a Linux user — filled with frustration, confusion, and much googling. I remember my computer being unable to connect to my printer because Linux didn’t have a patch yet. I remember the first time my bootloader was corrupted due to a Windows update, and I was praying I could still boot into my precious setup. I remember when I decided to delete Windows for good, but I forgot that I had mounted the partition and ended up nuking my hard drive. Going down this path means headaches, but it also means growth. It means learning how to fix your own problems and learning how to be self-sufficient.</p>
<p>I cannot, in good faith, teach you how to debug every issue you will encounter (those errors will structure your ideal PDE), but I can inspire you and your setup. I am now going to be a junior in College, so I have had a few years to refine my setup, and I hope you do the same. I’ll show you the workflow that I have built over the years and how I have optimized it to be as efficient as possible. This is the way of SeniorMars; this is my way!</p>
<div class="note-container note-type-default">
  
    <div class="note-header">
      
        <div class="note-icon">
          
          <p>Dotfiles</p>

        </div>
      
    </div>
    <div class="note-content">
      <p>I know people will ask, so here they are: <a rel="noreferrer" href="https://github.com/SeniorMars/dotfiles">SeniorMars’ Dotfiles</a>. Moreover, I will be assuming you are using Neovim 0.10!</p>
<p>Moreover, throughout this I use lua to configure my Neovim, and use <a rel="noreferrer" href="https://github.com/folke/lazy.nvim">lazy.nvim</a> to install and mange my plugins.</p>

    </div>
  
</div>
<h1 id="improving-the-neo-vim-experience"><a class="zola-anchor" href="#improving-the-neo-vim-experience" aria-label="Anchor link for: improving-the-neo-vim-experience">Improving the (Neo)Vim Experience</a></h1>
<p>Although, I stated this was not for beginners, I still need to point out the fundamentals. Without these, I would not consider neovim to even approach the basics of a PDE. If you think this is too basic, then you can skip this section – I promise you will learn something.</p>
<h2 id="search-and-replace"><a class="zola-anchor" href="#search-and-replace" aria-label="Anchor link for: search-and-replace">Search and Replace</a></h2>
<p>Let’s first start with something simple, so you get a taste on what kind of tips I will be giving you.</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>ignorecase </span><span style="color:#f29668;">= </span><span style="color:#f29718;">true </span><span style="font-style:italic;color:#5c6773;">-- search case insensitive
</span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>smartcase </span><span style="color:#f29668;">= </span><span style="color:#f29718;">true </span><span style="font-style:italic;color:#5c6773;">-- search matters if capital letter
</span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>inccommand </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;split&quot; </span><span style="font-style:italic;color:#5c6773;">-- &quot;for incsearch while sub
</span></code></pre>
<p>The first two options are self-explanatory. <code>ignorecase</code> makes search case-insensitive, and <code>smartcase</code> makes search case-sensitive if you use a capital letter. The third option is where the magic happens. Ever since, I first learned of <code>incsearch</code>, I have been in love. <code>incsearch</code> highlights the search pattern as you type it, giving you a real-time preview of where your pattern matches. The magic doesn’t stop at highlighting, though; by setting <code>inccommand</code> to <code>split</code>, we have a preview of what our substitution will look like.</p>
<video autoplay loop muted playsinline>
  <source src="https://seniormars.com/posts/neovim-workflow/incsearch.mp4" type="video/mp4">
  Your browser doesn't support the video tag, which I use in place of .gifs, and/or the video formats in use here – sorry!
</video>
<p>Now, let’s move on to keybindings.</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>mapleader </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;,&quot;
</span><span style="color:#ff7733;">local </span><span>keyset </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>keymap</span><span style="color:#f29668;">.</span><span>set
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;sr&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:%s/&lt;&lt;C-r&gt;&lt;C-w&gt;&gt;//g&lt;Left&gt;&lt;Left&gt;&quot;</span><span>)
</span></code></pre>
<p>Moreover, when I know I want to rename a variable, I do the following:</p>
<ol>
<li>Place my cursor on the variable I would like to rename.</li>
<li>Use the keybinding <code>*</code> in normal mode to highlight all instances of the variable.</li>
<li>Do <code>cgn</code> to change the word under the cursor and move to the next instance.</li>
<li>Press <code>.</code> to repeat the change on the next instance.</li>
</ol>
<video autoplay loop muted playsinline>
  <source src="https://seniormars.com/posts/neovim-workflow/change_word.mp4" type="video/mp4">
  Your browser doesn't support the video tag, which I use in place of .gifs, and/or the video formats in use here – sorry!
</video>
<p>Now, for some plugins.</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="font-style:italic;color:#5c6773;">-- I use lazy.nvim to load plugins 
</span><span>{</span><span style="color:#c2d94c;">&quot;mhinz/vim-grepper&quot;</span><span>}
</span><span>
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>mapleader </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;,&quot;
</span><span style="color:#ff7733;">local </span><span>keyset </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>keymap</span><span style="color:#f29668;">.</span><span>set
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;fs&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&#39;:GrepperRg &quot;&quot; .&lt;Left&gt;&lt;Left&gt;&lt;Left&gt;&#39;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;fS&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Rg&lt;space&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;*&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Grepper -tool rg -cword -noprompt&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;gs&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;Plug&gt;(GrepperOperator)&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;x&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;gs&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;Plug&gt;(GrepperOperator)&quot;</span><span>)
</span></code></pre>
<p>This allows me to use <code>rg</code> to search for a word under the cursor, search for a word in the current director, and search for a word in the current directory. Grepper Operator allows me to use other vim motions to select text and search for it.</p>
<video autoplay loop muted playsinline>
  <source src="https://seniormars.com/posts/neovim-workflow/grepper.mp4" type="video/mp4">
  Your browser doesn't support the video tag, which I use in place of .gifs, and/or the video formats in use here – sorry!
</video>
<p>Now, to do something similar to other commands like <code>:norm</code>, I use:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{
</span><span>    </span><span style="color:#c2d94c;">&quot;smjonas/live-command.nvim&quot;</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- live command
</span><span>    </span><span style="color:#ffb454;">config </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;live-command&quot;</span><span>)</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setup</span><span>({</span><span style="color:#c2d94c;">commands </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">Norm </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">cmd </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;norm&quot;</span><span>}}})
</span><span>    </span><span style="color:#ff7733;">end
</span><span>}
</span></code></pre>
<h2 id="ex-commands-and-g-command"><a class="zola-anchor" href="#ex-commands-and-g-command" aria-label="Anchor link for: ex-commands-and-g-command">Ex Commands and <code>g</code> command</a></h2>
<p>If you have read the vim help docs, you may know some of these, but these are the little things that make a big difference.</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>wildmode </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;list:longest,list:full&quot; </span><span style="font-style:italic;color:#5c6773;">-- for : stuff
</span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>wildignore</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">append</span><span>({</span><span style="color:#c2d94c;">&quot;.javac&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;node_modules&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;*.pyc&quot;</span><span>})
</span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>wildignore</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">append</span><span>({</span><span style="color:#c2d94c;">&quot;.aux&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.out&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.toc&quot;</span><span>}) </span><span style="font-style:italic;color:#5c6773;">-- LaTeX
</span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>wildignore</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">append</span><span>({
</span><span>    </span><span style="color:#c2d94c;">&quot;.o&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.obj&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.dll&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.exe&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.so&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.a&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.lib&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.pyc&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.pyo&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.pyd&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;.swp&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.swo&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.class&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.DS_Store&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.git&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.hg&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.orig&quot;
</span><span>})
</span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>suffixesadd</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">append</span><span>({</span><span style="color:#c2d94c;">&quot;.java&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.rs&quot;</span><span>}) </span><span style="font-style:italic;color:#5c6773;">-- search for suffexes using gf
</span></code></pre>
<p>The first option is for the <code>:</code> command. It allows you to use the tab completion to find the longest common match and then show the full list. The second option is for the <code>wildignore</code> option. It allows you to ignore certain files when using tab completion. The third option is for the <code>suffixesadd</code> option. It allows you to use <code>gf</code> to open files with the given suffixes. You can customize these to your liking, but adding this allows you to filter out the noise and focus on what you want to see.</p>
<p>Additionally, this is one of the must-have plugins:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="font-style:italic;color:#5c6773;">--- lazy.nvim
</span><span>{</span><span style="color:#c2d94c;">&quot;gelguy/wilder.nvim&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">build </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;:UpdateRemotePlugins&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- : autocomplete
</span><span style="font-style:italic;color:#5c6773;">-- wilder
</span><span style="color:#ff7733;">local </span><span>wilder </span><span style="color:#f29668;">= </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;wilder&quot;</span><span>)
</span><span>wilder</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setup</span><span>({</span><span style="color:#c2d94c;">modes </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;:&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;/&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;?&quot;</span><span>}})
</span><span>wilder</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">set_option</span><span>(</span><span style="color:#c2d94c;">&quot;pipeline&quot;</span><span style="color:#bfbab0cc;">, </span><span>{
</span><span>    wilder</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">branch</span><span>(wilder</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">python_file_finder_pipeline</span><span>({
</span><span>        </span><span style="color:#ffb454;">file_command </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>(</span><span style="color:#f29718;">_</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">arg</span><span>)
</span><span>            </span><span style="color:#ff7733;">if </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">find</span><span>(arg</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.&quot;</span><span>) </span><span style="color:#f29668;">~= </span><span style="color:#f29718;">nil </span><span style="color:#ff7733;">then
</span><span>                </span><span style="color:#ff7733;">return </span><span>{</span><span style="color:#c2d94c;">&quot;fd&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;-tf&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;-H&quot;</span><span>}
</span><span>            </span><span style="color:#ff7733;">else
</span><span>                </span><span style="color:#ff7733;">return </span><span>{</span><span style="color:#c2d94c;">&quot;fd&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;-tf&quot;</span><span>}
</span><span>            </span><span style="color:#ff7733;">end
</span><span>        </span><span style="color:#ff7733;">end</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">dir_command </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;fd&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;-td&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">filters </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;fuzzy_filter&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;difflib_sorter&quot;</span><span>}
</span><span>    })</span><span style="color:#bfbab0cc;">, </span><span>wilder</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">cmdline_pipeline</span><span>()</span><span style="color:#bfbab0cc;">, </span><span>wilder</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">python_search_pipeline</span><span>())
</span><span>})
</span><span>
</span><span>wilder</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">set_option</span><span>(</span><span style="color:#c2d94c;">&quot;renderer&quot;</span><span style="color:#bfbab0cc;">, </span><span>wilder</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">popupmenu_renderer</span><span>({
</span><span>    </span><span style="color:#c2d94c;">highlighter </span><span style="color:#bfbab0cc;">= </span><span>wilder</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">basic_highlighter</span><span>()</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">left </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot; &quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">right </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot; &quot;</span><span style="color:#bfbab0cc;">, </span><span>wilder</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">popupmenu_scrollbar</span><span>({</span><span style="color:#c2d94c;">thumb_char </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot; &quot;</span><span>})}</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">highlights </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">default </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;WilderMenu&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">accent </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;WilderAccent&quot;</span><span>}
</span><span>}))
</span></code></pre>
<p>Wilder is a fuzzy finder for Ex commands, search history, and command history. It is a must-have plugin for me because it allows me to search for commands and history in a more efficient way.</p>
<p><img src="https://seniormars.com/posts/neovim-workflow/wilder.png" alt="Wilder" /></p>
<h1 id="undo-and-redo"><a class="zola-anchor" href="#undo-and-redo" aria-label="Anchor link for: undo-and-redo">Undo and Redo</a></h1>
<p>Undo and Redo are essential to any text editor. However, in Vim, you can make this more powerful! First,</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>undofile </span><span style="color:#f29668;">= </span><span style="color:#f29718;">true </span><span style="font-style:italic;color:#5c6773;">-- save undo history
</span><span style="color:#ff7733;">local </span><span>keyset </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>keymap</span><span style="color:#f29668;">.</span><span>set
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;i&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;,&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;,&lt;C-g&gt;U&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;i&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;.&lt;C-g&gt;U&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;i&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;!&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;!&lt;C-g&gt;U&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;i&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;?&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;?&lt;C-g&gt;U&quot;</span><span>)
</span></code></pre>
<p>The first option allows you to save your undo history. The next options add more power to undo as this updates undo when you use other vim operations. Now, we add:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{</span><span style="color:#c2d94c;">&quot;mbbill/undotree&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">lazy </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">cmd </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;UndotreeToggle&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- see undo tree
</span><span>
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;u&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:UndotreeToggle&lt;cr&gt;&quot;</span><span>)
</span><span>
</span></code></pre>
<p><img src="https://seniormars.com/posts/neovim-workflow/undotree.png" alt="Undo Tree" /></p>
<p>This allows you to see your undo tree and navigate it with diffs – extremely useful when you want to see what you have done and what you can undo.</p>
<p>Combine this with <code>AutoSession</code>, I can open a project and have all my windows, buffers, and undo history saved.</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{
</span><span>    </span><span style="color:#c2d94c;">&quot;rmagatti/auto-session&quot;</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- auto save session
</span><span>    </span><span style="color:#ffb454;">config </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;auto-session&quot;</span><span>)</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setup</span><span>({
</span><span>            </span><span style="color:#c2d94c;">log_level </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;error&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">auto_session_suppress_dirs </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>                </span><span style="color:#c2d94c;">&quot;~/&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;~/Downloads&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;~/Documents&quot;
</span><span>            }</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">auto_session_use_git_branch </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">auto_save_enabled </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true
</span><span>        })
</span><span>    </span><span style="color:#ff7733;">end
</span><span>}
</span></code></pre>
<h2 id="movement"><a class="zola-anchor" href="#movement" aria-label="Anchor link for: movement">Movement</a></h2>
<p>Movement is essential to any text editor. However, in Vim, you can make this more powerful! First,</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>splitbelow </span><span style="color:#f29668;">= </span><span style="color:#f29718;">true </span><span style="font-style:italic;color:#5c6773;">-- split windows below
</span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>splitright </span><span style="color:#f29668;">= </span><span style="color:#f29718;">true </span><span style="font-style:italic;color:#5c6773;">-- split windows right
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Movement
</span><span style="color:#ff7733;">local </span><span>keyset </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>keymap</span><span style="color:#f29668;">.</span><span>set
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;i&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;jk&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;esc&gt;&quot;</span><span>)
</span><span>
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;v&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;J&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:m &#39;&gt;+1&lt;cr&gt;gv=gv&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;v&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;K&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:m &#39;&lt;-2&lt;cr&gt;gv=gv&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;space&gt;h&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;c-w&gt;h&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;space&gt;j&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;c-w&gt;j&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;space&gt;k&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;c-w&gt;k&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;space&gt;l&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;c-w&gt;l&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;wh&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;c-w&gt;t&lt;c-h&gt;H&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;wk&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;c-w&gt;t&lt;c-h&gt;K&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;down&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:resize +2&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;up&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:resize -2&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;right&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:vertical resize +2&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;left&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:vertical resize -2&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;j&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;(v:count ? &#39;j&#39; : &#39;gj&#39;)&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">expr </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;k&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;(v:count ? &#39;k&#39; : &#39;gk&#39;)&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">expr </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span></code></pre>
<p>This allows us to move line around in visual mode, move windows, and reside windows. Moreover, we can go up and down in long lines!</p>
<p>Furthermore, I have some auto commands that allow me to move between windows and resize them:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#ff7733;">local </span><span>autocmd </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span>nvim_create_autocmd
</span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_create_augroup</span><span>(</span><span style="color:#c2d94c;">&quot;Random&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">clear </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span>
</span><span style="color:#ffb454;">autocmd</span><span>(</span><span style="color:#c2d94c;">&quot;VimResized&quot;</span><span style="color:#bfbab0cc;">, </span><span>{
</span><span>    </span><span style="color:#c2d94c;">group </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;Random&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">desc </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;Keep windows equally resized&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">command </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;tabdo wincmd =&quot;
</span><span>})
</span><span>
</span><span style="color:#ffb454;">autocmd</span><span>(</span><span style="color:#c2d94c;">&quot;TermOpen&quot;</span><span style="color:#bfbab0cc;">, </span><span>{
</span><span>    </span><span style="color:#c2d94c;">group </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;Random&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">command </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;setlocal nonumber norelativenumber signcolumn=no&quot;
</span><span>})
</span></code></pre>
<p>This allows me to keep my windows equally resized and to remove the number column when I open a terminal.</p>
<p>Finally, I have some plugins that help me with movement and manipulating text:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{</span><span style="color:#c2d94c;">&quot;tpope/vim-repeat&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- repeat
</span><span>{
</span><span>    </span><span style="color:#c2d94c;">&quot;kylechui/nvim-surround&quot;</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- surround objects
</span><span>    </span><span style="color:#ffb454;">config </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>() </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;nvim-surround&quot;</span><span>)</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setup</span><span>({}) </span><span style="color:#ff7733;">end
</span><span>},
</span><span>{</span><span style="color:#c2d94c;">&quot;windwp/nvim-autopairs&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- autopairs 
</span><span>{
</span><span>    </span><span style="color:#c2d94c;">&#39;andymass/vim-matchup&#39;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#ffb454;">config </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>()
</span><span>        vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_set_hl</span><span>(</span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;OffScreenPopup&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                            {</span><span style="color:#c2d94c;">fg </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;#fe8019&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">bg </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;#3c3836&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">italic </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span>        vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>matchup_matchparen_offscreen </span><span style="color:#f29668;">= </span><span>{
</span><span>            </span><span style="color:#c2d94c;">method </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;popup&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">highlight </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;OffScreenPopup&quot;
</span><span>        }
</span><span>    </span><span style="color:#ff7733;">end
</span><span>},
</span><span>{</span><span style="color:#c2d94c;">&quot;wellle/targets.vim&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- adds more targets like [ or ,
</span><span>
</span><span style="font-style:italic;color:#5c6773;">--- setup
</span><span style="color:#ff7733;">local </span><span>rule </span><span style="color:#f29668;">= </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;nvim-autopairs.rule&quot;</span><span>)
</span><span style="color:#ff7733;">local </span><span>cond </span><span style="color:#f29668;">= </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;nvim-autopairs.conds&quot;</span><span>)
</span><span style="color:#ff7733;">local </span><span>autopairs </span><span style="color:#f29668;">= </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;nvim-autopairs&quot;</span><span>)
</span><span>
</span><span>autopairs</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">add_rules</span><span>({
</span><span>    </span><span style="color:#ffb454;">rule</span><span>(</span><span style="color:#c2d94c;">&quot;$&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;$&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">&quot;tex&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;latex&quot;</span><span>})</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">with_cr</span><span>(cond</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">none</span><span>())
</span><span>})
</span><span>
</span><span>autopairs</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">get_rules</span><span>(</span><span style="color:#c2d94c;">&quot;`&quot;</span><span>)[</span><span style="color:#f29718;">1</span><span>]</span><span style="color:#f29668;">.</span><span>not_filetypes </span><span style="color:#f29668;">= </span><span>{</span><span style="color:#c2d94c;">&quot;tex&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;latex&quot;</span><span>}
</span><span>autopairs</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">get_rules</span><span>(</span><span style="color:#c2d94c;">&quot;&#39;&quot;</span><span>)[</span><span style="color:#f29718;">1</span><span>]</span><span style="color:#f29668;">.</span><span>not_filetypes </span><span style="color:#f29668;">= </span><span>{</span><span style="color:#c2d94c;">&quot;tex&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;latex&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;rust&quot;</span><span>}
</span></code></pre>
<p>This allows me to repeat commands, add more targets like <code>[]</code>, and auto complete pairs like <code>()</code>. Moreover, with nvim-surround, I can surround text objects with different characters like quotes, brackets, and braces. Finally with vim-matchup, I can see the matching pair of brackets, braces, and quotes. If the code is very long it also shows the top matching pair in a popup window.</p>
<p><img src="https://seniormars.com/posts/neovim-workflow/matchup.png" alt="Matchup" /></p>
<h2 id="better-quickfix"><a class="zola-anchor" href="#better-quickfix" aria-label="Anchor link for: better-quickfix">Better quickfix</a></h2>
<p>If are not taking advantage of the quickfix list, you are missing out. The quickfix list is a powerful tool that allows you to navigate through errors, warnings, and search results – anything as long as you know how to use it. However, I like to use a plugin to make it more powerful.</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{</span><span style="color:#c2d94c;">&quot;kevinhwang91/nvim-bqf&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- better quickfix
</span><span style="font-style:italic;color:#5c6773;">--- later in the config
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;cn&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:cnext&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;cp&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:cprevious&lt;cr&gt;&quot;</span><span>)
</span></code></pre>
<p>This allows me to navigate through the quickfix list with ease. In fact, this is the setup I used to showoff grepper.</p>
<video autoplay loop muted playsinline>
  <source src="https://seniormars.com/posts/neovim-workflow/grepper.mp4" type="video/mp4">
  Your browser doesn't support the video tag, which I use in place of .gifs, and/or the video formats in use here – sorry!
</video>
<p>I integrated the quickfix list with other tools I’ll get to later.</p>
<h2 id="spell-check"><a class="zola-anchor" href="#spell-check" aria-label="Anchor link for: spell-check">Spell Check</a></h2>
<p>Vim has a built-in spell checker, but of course, we need to make it better.</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#ff7733;">function </span><span style="color:#ffb454;">SpellToggle</span><span>()
</span><span>    </span><span style="color:#ff7733;">if </span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>spell</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">get</span><span>() </span><span style="color:#ff7733;">then
</span><span>        vim</span><span style="color:#f29668;">.</span><span>opt_local</span><span style="color:#f29668;">.</span><span>spell </span><span style="color:#f29668;">= </span><span style="color:#f29718;">false
</span><span>        vim</span><span style="color:#f29668;">.</span><span>opt_local</span><span style="color:#f29668;">.</span><span>spelllang </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;en&quot;
</span><span>    </span><span style="color:#ff7733;">else
</span><span>        vim</span><span style="color:#f29668;">.</span><span>opt_local</span><span style="color:#f29668;">.</span><span>spell </span><span style="color:#f29668;">= </span><span style="color:#f29718;">true
</span><span>        vim</span><span style="color:#f29668;">.</span><span>opt_local</span><span style="color:#f29668;">.</span><span>spelllang </span><span style="color:#f29668;">= </span><span>{</span><span style="color:#c2d94c;">&quot;en_us&quot;</span><span>}
</span><span>    </span><span style="color:#ff7733;">end
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;5&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:lua SpellToggle()&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;z&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;[s1z=``&quot;</span><span>)
</span></code></pre>
<p>This allows me to toggle spell check and fix spelling mistakes with <code>&lt;leader&gt;z</code> while not moving my cursor! In addition to this I use a language server (LSP) to check my spelling through language tool: <a rel="noreferrer" href="https://www.npmjs.com/package/coc-ltex/v/12.2.0">ltex</a>.</p>
<h2 id="status-line"><a class="zola-anchor" href="#status-line" aria-label="Anchor link for: status-line">Status Line</a></h2>
<p>At one point in your vim carer, you would have downloaded a status line plugin. After a while, though, you realize that you don’t need a status line plugin. You can make your own status line! Here is mine (with cache implmented):</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#ff7733;">local </span><span>cache </span><span style="color:#f29668;">= </span><span>{}
</span><span>
</span><span style="color:#ff7733;">local function </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#f29718;">key</span><span>)
</span><span>    </span><span style="color:#ff7733;">if </span><span>cache[key] </span><span style="color:#ff7733;">then </span><span>cache[key]</span><span style="color:#f29668;">.</span><span>value </span><span style="color:#f29668;">= </span><span>cache[key]</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">fn</span><span>() </span><span style="color:#ff7733;">end
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">local function </span><span style="color:#ffb454;">cache_get</span><span>(</span><span style="color:#f29718;">key</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">compute_fn</span><span>)
</span><span>    </span><span style="color:#ff7733;">local </span><span>cached </span><span style="color:#f29668;">= </span><span>cache[key]
</span><span>    </span><span style="color:#ff7733;">if </span><span>cached </span><span style="color:#ff7733;">then return </span><span>cached</span><span style="color:#f29668;">.</span><span>value </span><span style="color:#ff7733;">end
</span><span>    </span><span style="color:#ff7733;">local </span><span>value </span><span style="color:#f29668;">= </span><span style="color:#ffb454;">compute_fn</span><span>()
</span><span>    cache[key] </span><span style="color:#f29668;">= </span><span>{</span><span style="color:#c2d94c;">value </span><span style="color:#bfbab0cc;">= </span><span>value</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">fn </span><span style="color:#bfbab0cc;">= </span><span>compute_fn}
</span><span>    </span><span style="color:#ff7733;">return </span><span>value
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">function </span><span style="color:#ffb454;">SpellToggle</span><span>()
</span><span>    </span><span style="color:#ff7733;">if </span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>spell</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">get</span><span>() </span><span style="color:#ff7733;">then
</span><span>        vim</span><span style="color:#f29668;">.</span><span>opt_local</span><span style="color:#f29668;">.</span><span>spell </span><span style="color:#f29668;">= </span><span style="color:#f29718;">false
</span><span>        vim</span><span style="color:#f29668;">.</span><span>opt_local</span><span style="color:#f29668;">.</span><span>spelllang </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;en&quot;
</span><span>    </span><span style="color:#ff7733;">else
</span><span>        vim</span><span style="color:#f29668;">.</span><span>opt_local</span><span style="color:#f29668;">.</span><span>spell </span><span style="color:#f29668;">= </span><span style="color:#f29718;">true
</span><span>        vim</span><span style="color:#f29668;">.</span><span>opt_local</span><span style="color:#f29668;">.</span><span>spelllang </span><span style="color:#f29668;">= </span><span>{</span><span style="color:#c2d94c;">&quot;en_us&quot;</span><span>}
</span><span>    </span><span style="color:#ff7733;">end
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">local function </span><span style="color:#ffb454;">spell_status</span><span>()
</span><span>    </span><span style="color:#ff7733;">local </span><span>spellLang </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>opt_local</span><span style="color:#f29668;">.</span><span>spelllang</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">get</span><span>()
</span><span>    </span><span style="color:#ff7733;">if </span><span style="color:#f07178;">type</span><span>(spellLang) </span><span style="color:#f29668;">== </span><span style="color:#c2d94c;">&quot;table&quot; </span><span style="color:#ff7733;">then
</span><span>        spellLang </span><span style="color:#f29668;">= </span><span style="font-style:italic;color:#f29668;">table</span><span style="color:#f29668;">.</span><span style="color:#f07178;">concat</span><span>(spellLang</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;, &quot;</span><span>)
</span><span>    </span><span style="color:#ff7733;">end
</span><span>    </span><span style="color:#ff7733;">return </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">upper</span><span>(spellLang)
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">local function </span><span style="color:#ffb454;">git_branch</span><span>()
</span><span>    </span><span style="color:#ff7733;">return </span><span style="color:#ffb454;">cache_get</span><span>(</span><span style="color:#c2d94c;">&quot;git_branch&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#ff7733;">if </span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>loaded_fugitive </span><span style="color:#ff7733;">then
</span><span>            </span><span style="color:#ff7733;">local </span><span>branch </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">FugitiveHead</span><span>()
</span><span>            </span><span style="color:#ff7733;">if </span><span>branch </span><span style="color:#f29668;">~= </span><span style="color:#c2d94c;">&quot;&quot; </span><span style="color:#ff7733;">then
</span><span>                </span><span style="color:#ff7733;">if </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_win_get_width</span><span>(</span><span style="color:#f29718;">0</span><span>) </span><span style="color:#f29668;">&lt;= </span><span style="color:#f29718;">80 </span><span style="color:#ff7733;">then
</span><span>                    </span><span style="color:#ff7733;">return </span><span style="color:#c2d94c;">&quot; &quot; </span><span style="color:#f29668;">.. </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">upper</span><span>(branch</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">sub</span><span>(</span><span style="color:#f29718;">1</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">2</span><span>))
</span><span>                </span><span style="color:#ff7733;">end
</span><span>                </span><span style="color:#ff7733;">return </span><span style="color:#c2d94c;">&quot; &quot; </span><span style="color:#f29668;">.. </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">upper</span><span>(branch)
</span><span>            </span><span style="color:#ff7733;">end
</span><span>        </span><span style="color:#ff7733;">end
</span><span>        </span><span style="color:#ff7733;">return </span><span style="color:#c2d94c;">&quot;&quot;
</span><span>    </span><span style="color:#ff7733;">end</span><span>)
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">local function </span><span style="color:#ffb454;">update_status_for_file</span><span>(</span><span style="color:#f29718;">file_path</span><span>)
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Get number of lines added and deleted using git diff --numstat
</span><span>    </span><span style="color:#ff7733;">local </span><span>diff_stats </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">system</span><span>(</span><span style="color:#c2d94c;">&quot;git diff --numstat &quot; </span><span style="color:#f29668;">..
</span><span>                                         vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">shellescape</span><span>(file_path))
</span><span>    </span><span style="color:#ff7733;">if </span><span>vim</span><span style="color:#f29668;">.</span><span>v</span><span style="color:#f29668;">.</span><span>shell_error </span><span style="color:#f29668;">~= </span><span style="color:#f29718;">0 </span><span style="color:#f29668;">or </span><span>diff_stats </span><span style="color:#f29668;">== </span><span style="color:#c2d94c;">&quot;&quot; </span><span style="color:#ff7733;">then return </span><span style="color:#c2d94c;">&quot;&quot; </span><span style="color:#ff7733;">end
</span><span>
</span><span>    </span><span style="color:#ff7733;">local </span><span>added</span><span style="color:#bfbab0cc;">, </span><span>deleted </span><span style="color:#f29668;">= </span><span>diff_stats</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">match</span><span>(</span><span style="color:#c2d94c;">&quot;(%d+)%s+(%d+)%s+%S+&quot;</span><span>)
</span><span>    added, deleted </span><span style="color:#f29668;">= </span><span style="color:#f07178;">tonumber</span><span>(added), </span><span style="color:#f07178;">tonumber</span><span>(deleted)
</span><span>    </span><span style="color:#ff7733;">local </span><span>delta </span><span style="color:#f29668;">= </span><span style="font-style:italic;color:#f29668;">math</span><span style="color:#f29668;">.</span><span style="color:#f07178;">min</span><span>(added</span><span style="color:#bfbab0cc;">, </span><span>deleted)
</span><span>
</span><span>    </span><span style="color:#ff7733;">local </span><span>status </span><span style="color:#f29668;">= </span><span>{
</span><span>        </span><span style="color:#c2d94c;">changed </span><span style="color:#bfbab0cc;">= </span><span>delta</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">added </span><span style="color:#bfbab0cc;">= </span><span>added </span><span style="color:#f29668;">- </span><span>delta</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">removed </span><span style="color:#bfbab0cc;">= </span><span>deleted </span><span style="color:#f29668;">- </span><span>delta
</span><span>    }
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Format the status for display
</span><span>    </span><span style="color:#ff7733;">local </span><span>status_txt </span><span style="color:#f29668;">= </span><span>{}
</span><span>    </span><span style="color:#ff7733;">if </span><span>status</span><span style="color:#f29668;">.</span><span>added </span><span style="color:#f29668;">&gt; </span><span style="color:#f29718;">0 </span><span style="color:#ff7733;">then </span><span style="font-style:italic;color:#f29668;">table</span><span style="color:#f29668;">.</span><span style="color:#f07178;">insert</span><span>(status_txt</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;+&quot; </span><span style="color:#f29668;">.. </span><span>status</span><span style="color:#f29668;">.</span><span>added) </span><span style="color:#ff7733;">end
</span><span>    </span><span style="color:#ff7733;">if </span><span>status</span><span style="color:#f29668;">.</span><span>changed </span><span style="color:#f29668;">&gt; </span><span style="color:#f29718;">0 </span><span style="color:#ff7733;">then
</span><span>        </span><span style="font-style:italic;color:#f29668;">table</span><span style="color:#f29668;">.</span><span style="color:#f07178;">insert</span><span>(status_txt</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;~&quot; </span><span style="color:#f29668;">.. </span><span>status</span><span style="color:#f29668;">.</span><span>changed)
</span><span>    </span><span style="color:#ff7733;">end
</span><span>    </span><span style="color:#ff7733;">if </span><span>status</span><span style="color:#f29668;">.</span><span>removed </span><span style="color:#f29668;">&gt; </span><span style="color:#f29718;">0 </span><span style="color:#ff7733;">then
</span><span>        </span><span style="font-style:italic;color:#f29668;">table</span><span style="color:#f29668;">.</span><span style="color:#f07178;">insert</span><span>(status_txt</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;-&quot; </span><span style="color:#f29668;">.. </span><span>status</span><span style="color:#f29668;">.</span><span>removed)
</span><span>    </span><span style="color:#ff7733;">end
</span><span>
</span><span>    </span><span style="color:#ff7733;">if </span><span style="color:#f29668;">#</span><span>status_txt </span><span style="color:#f29668;">&gt; </span><span style="color:#f29718;">1 </span><span style="color:#ff7733;">then
</span><span>        </span><span style="color:#ff7733;">for </span><span>i </span><span style="color:#f29668;">= </span><span style="color:#f29718;">2</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29668;">#</span><span>status_txt </span><span style="color:#ff7733;">do </span><span>status_txt[i] </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;,&quot; </span><span style="color:#f29668;">.. </span><span>status_txt[i] </span><span style="color:#ff7733;">end
</span><span>    </span><span style="color:#ff7733;">end
</span><span>
</span><span>    </span><span style="color:#ff7733;">local </span><span>formatted_status </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;&quot;
</span><span>    </span><span style="color:#ff7733;">if </span><span style="color:#f29668;">#</span><span>status_txt </span><span style="color:#f29668;">&gt; </span><span style="color:#f29718;">0 </span><span style="color:#ff7733;">then
</span><span>        formatted_status </span><span style="color:#f29668;">= </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;[%s]&quot;</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#f29668;">table</span><span style="color:#f29668;">.</span><span style="color:#f07178;">concat</span><span>(status_txt))
</span><span>    </span><span style="color:#ff7733;">else
</span><span>        formatted_status </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;&quot;
</span><span>    </span><span style="color:#ff7733;">end
</span><span>
</span><span>    </span><span style="color:#ff7733;">return </span><span>formatted_status
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">local function </span><span style="color:#ffb454;">status_for_file</span><span>()
</span><span>    </span><span style="color:#ff7733;">return </span><span style="color:#ffb454;">cache_get</span><span>(</span><span style="color:#c2d94c;">&quot;file_status&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#ff7733;">local </span><span>file_path </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_buf_get_name</span><span>(</span><span style="color:#f29718;">0</span><span>)
</span><span>
</span><span>        </span><span style="color:#ff7733;">if </span><span>file_path </span><span style="color:#f29668;">== </span><span style="color:#c2d94c;">&quot;&quot; </span><span style="color:#ff7733;">then return </span><span style="color:#c2d94c;">&quot;&quot; </span><span style="color:#ff7733;">end
</span><span>        </span><span style="color:#ff7733;">return </span><span style="color:#ffb454;">update_status_for_file</span><span>(file_path)
</span><span>    </span><span style="color:#ff7733;">end</span><span>)
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">local function </span><span style="color:#ffb454;">human_file_size</span><span>()
</span><span>    </span><span style="color:#ff7733;">return </span><span style="color:#ffb454;">cache_get</span><span>(</span><span style="color:#c2d94c;">&quot;file_size&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#ff7733;">local </span><span>file </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_buf_get_name</span><span>(</span><span style="color:#f29718;">0</span><span>)
</span><span>        </span><span style="color:#ff7733;">if </span><span>file </span><span style="color:#f29668;">== </span><span style="color:#c2d94c;">&quot;&quot; </span><span style="color:#ff7733;">then return </span><span style="color:#c2d94c;">&quot;&quot; </span><span style="color:#ff7733;">end
</span><span>
</span><span>        </span><span style="color:#ff7733;">local </span><span>size </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">getfsize</span><span>(file)
</span><span>        </span><span style="color:#ff7733;">local </span><span>suffixes </span><span style="color:#f29668;">= </span><span>{</span><span style="color:#c2d94c;">&quot;B&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;KB&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;MB&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;GB&quot;</span><span>}
</span><span>        </span><span style="color:#ff7733;">local </span><span>i </span><span style="color:#f29668;">= </span><span style="color:#f29718;">1
</span><span>        </span><span style="color:#ff7733;">while </span><span>size </span><span style="color:#f29668;">&gt; </span><span style="color:#f29718;">1024 </span><span style="color:#ff7733;">do
</span><span>            size </span><span style="color:#f29668;">= </span><span>size </span><span style="color:#f29668;">/ </span><span style="color:#f29718;">1024
</span><span>            i </span><span style="color:#f29668;">= </span><span>i </span><span style="color:#f29668;">+ </span><span style="color:#f29718;">1
</span><span>        </span><span style="color:#ff7733;">end
</span><span>
</span><span>        </span><span style="color:#ff7733;">return </span><span>size </span><span style="color:#f29668;">&lt;= </span><span style="color:#f29718;">0 </span><span style="color:#f29668;">and </span><span style="color:#c2d94c;">&quot;&quot; </span><span style="color:#f29668;">or </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;[%.0f%s]&quot;</span><span style="color:#bfbab0cc;">, </span><span>size</span><span style="color:#bfbab0cc;">, </span><span>suffixes[i])
</span><span>    </span><span style="color:#ff7733;">end</span><span>)
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">local function </span><span style="color:#ffb454;">smart_file_path</span><span>()
</span><span>    </span><span style="color:#ff7733;">return </span><span style="color:#ffb454;">cache_get</span><span>(</span><span style="color:#c2d94c;">&quot;file_path&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#ff7733;">local </span><span>buf_name </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_buf_get_name</span><span>(</span><span style="color:#f29718;">0</span><span>)
</span><span>        </span><span style="color:#ff7733;">local </span><span>is_wide </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_win_get_width</span><span>(</span><span style="color:#f29718;">0</span><span>) </span><span style="color:#f29668;">&gt; </span><span style="color:#f29718;">80
</span><span>        </span><span style="color:#ff7733;">if </span><span>buf_name </span><span style="color:#f29668;">== </span><span style="color:#c2d94c;">&quot;&quot; </span><span style="color:#ff7733;">then return </span><span style="color:#c2d94c;">&quot;[No Name]&quot; </span><span style="color:#ff7733;">end
</span><span>
</span><span>        </span><span style="color:#ff7733;">local </span><span>file_dir </span><span style="color:#f29668;">= </span><span>buf_name</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">sub</span><span>(</span><span style="color:#f29718;">1</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">5</span><span>)</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">find</span><span>(</span><span style="color:#c2d94c;">&quot;term&quot;</span><span>) </span><span style="color:#f29668;">and </span><span>vim</span><span style="color:#f29668;">.</span><span>env</span><span style="color:#f29668;">.</span><span>PWD </span><span style="color:#f29668;">or
</span><span>                             vim</span><span style="color:#f29668;">.</span><span>fs</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">dirname</span><span>(buf_name)
</span><span>        file_dir </span><span style="color:#f29668;">= </span><span>file_dir</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">gsub</span><span>(vim</span><span style="color:#f29668;">.</span><span>env</span><span style="color:#f29668;">.</span><span>HOME</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;~&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">1</span><span>)
</span><span>
</span><span>        </span><span style="color:#ff7733;">if </span><span style="color:#f29668;">not </span><span>is_wide </span><span style="color:#ff7733;">then </span><span>file_dir </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">pathshorten</span><span>(file_dir) </span><span style="color:#ff7733;">end
</span><span>
</span><span>        </span><span style="color:#ff7733;">if </span><span>buf_name</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">sub</span><span>(</span><span style="color:#f29718;">1</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">5</span><span>)</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">find</span><span>(</span><span style="color:#c2d94c;">&quot;term&quot;</span><span>) </span><span style="color:#ff7733;">then
</span><span>            </span><span style="color:#ff7733;">return </span><span>file_dir </span><span style="color:#f29668;">.. </span><span style="color:#c2d94c;">&quot; &quot;
</span><span>        </span><span style="color:#ff7733;">else
</span><span>            </span><span style="color:#ff7733;">return </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;%s/%s &quot;</span><span style="color:#bfbab0cc;">, </span><span>file_dir</span><span style="color:#bfbab0cc;">, </span><span>vim</span><span style="color:#f29668;">.</span><span>fs</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">basename</span><span>(buf_name))
</span><span>        </span><span style="color:#ff7733;">end
</span><span>    </span><span style="color:#ff7733;">end</span><span>)
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">local function </span><span style="color:#ffb454;">word_count</span><span>()
</span><span>    </span><span style="color:#ff7733;">local </span><span>words </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">wordcount</span><span>()
</span><span>    </span><span style="color:#ff7733;">if </span><span>words</span><span style="color:#f29668;">.</span><span>visual_words </span><span style="color:#f29668;">~= </span><span style="color:#f29718;">nil </span><span style="color:#ff7733;">then
</span><span>        </span><span style="color:#ff7733;">return </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;[%s]&quot;</span><span style="color:#bfbab0cc;">, </span><span>words</span><span style="color:#f29668;">.</span><span>visual_words)
</span><span>    </span><span style="color:#ff7733;">else
</span><span>        </span><span style="color:#ff7733;">return </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;[%s]&quot;</span><span style="color:#bfbab0cc;">, </span><span>words</span><span style="color:#f29668;">.</span><span>words)
</span><span>    </span><span style="color:#ff7733;">end
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">local </span><span>modes </span><span style="color:#f29668;">= </span><span style="color:#f07178;">setmetatable</span><span>({
</span><span>    [</span><span style="color:#c2d94c;">&quot;n&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;NORMAL&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;N&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;no&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;N·OPERATOR&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;N·P&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;nov&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;O·PENDING&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;O·P&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;noV&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;O·PENDING&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;O·P&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;no</span><span style="color:#95e6cb;">\22</span><span style="color:#c2d94c;">&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;O·PENDING&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;O·P&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;niI&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;NORMAL&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;N&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;niR&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;NORMAL&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;N&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;niV&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;NORMAL&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;N&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;nt&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;NORMAL&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;N&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;ntT&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;NORMAL&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;N&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;v&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;VISUAL&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;V&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;V&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;V·LINE&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;V·L&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\22</span><span style="color:#c2d94c;">&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;V·BLOCK&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;V·B&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\22</span><span style="color:#c2d94c;">s&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;V·BLOCK&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;V·B&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;s&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;SELECT&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;S&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;S&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;S·LINE&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;S·L&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\19</span><span style="color:#c2d94c;">&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;S·BLOCK&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;S·B&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;i&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;INSERT&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;I&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;ic&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;INSERT&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;I&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;ix&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;INSERT&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;I&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;R&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;REPLACE&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;R&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;Rv&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;V·REPLACE&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;V·R&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;Rc&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;REPLACE&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;R&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;Rx&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;REPLACE&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;R&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;Rvc&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;V·REPLACE&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;V·R&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;Rvx&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;V·REPLACE&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;V·R&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;c&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;COMMAND&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;C&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;cv&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;VIM·EX&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;V·E&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;ce&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;EX&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;E&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;r&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;PROMPT&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;P&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;rm&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;MORE&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;M&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;r?&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;CONFIRM&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;C&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;!&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;SHELL&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;S&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>    [</span><span style="color:#c2d94c;">&quot;t&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;TERMINAL&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;T&quot;</span><span>}
</span><span>}</span><span style="color:#bfbab0cc;">, </span><span>{
</span><span>    </span><span style="color:#f07178;">__index </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#ff7733;">return </span><span>{</span><span style="color:#c2d94c;">&quot;UNKNOWN&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;U&quot;</span><span>} </span><span style="font-style:italic;color:#5c6773;">-- handle edge cases
</span><span>    </span><span style="color:#ff7733;">end
</span><span>})
</span><span>
</span><span style="color:#ff7733;">local function </span><span style="color:#ffb454;">get_current_mode</span><span>()
</span><span>    </span><span style="color:#ff7733;">local </span><span>mode </span><span style="color:#f29668;">= </span><span>modes[vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_get_mode</span><span>()</span><span style="color:#f29668;">.</span><span>mode]
</span><span>    </span><span style="color:#ff7733;">if </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_win_get_width</span><span>(</span><span style="color:#f29718;">0</span><span>) </span><span style="color:#f29668;">&lt;= </span><span style="color:#f29718;">80 </span><span style="color:#ff7733;">then
</span><span>        </span><span style="color:#ff7733;">return </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;%s &quot;</span><span style="color:#bfbab0cc;">, </span><span>mode[</span><span style="color:#f29718;">2</span><span>]) </span><span style="font-style:italic;color:#5c6773;">-- short name
</span><span>    </span><span style="color:#ff7733;">else
</span><span>        </span><span style="color:#ff7733;">return </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;%s &quot;</span><span style="color:#bfbab0cc;">, </span><span>mode[</span><span style="color:#f29718;">1</span><span>]) </span><span style="font-style:italic;color:#5c6773;">-- long name
</span><span>    </span><span style="color:#ff7733;">end
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">local function </span><span style="color:#ffb454;">file_type</span><span>()
</span><span>    </span><span style="color:#ff7733;">return </span><span style="color:#ffb454;">cache_get</span><span>(</span><span style="color:#c2d94c;">&quot;file_type&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#ff7733;">local </span><span>buf_name </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_buf_get_name</span><span>(</span><span style="color:#f29718;">0</span><span>)
</span><span>        </span><span style="color:#ff7733;">local </span><span>width </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_win_get_width</span><span>(</span><span style="color:#f29718;">0</span><span>)
</span><span>
</span><span>        </span><span style="color:#ff7733;">local </span><span>ft </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>bo</span><span style="color:#f29668;">.</span><span>filetype
</span><span>        </span><span style="color:#ff7733;">if </span><span>ft </span><span style="color:#f29668;">== </span><span style="color:#c2d94c;">&quot;&quot; </span><span style="color:#ff7733;">then
</span><span>            </span><span style="color:#ff7733;">return </span><span style="color:#c2d94c;">&quot;[None]&quot;
</span><span>        </span><span style="color:#ff7733;">else
</span><span>            </span><span style="color:#ff7733;">if </span><span>width </span><span style="color:#f29668;">&gt; </span><span style="color:#f29718;">80 </span><span style="color:#ff7733;">then
</span><span>                </span><span style="color:#ff7733;">return </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;[%s]&quot;</span><span style="color:#bfbab0cc;">, </span><span>ft)
</span><span>            </span><span style="color:#ff7733;">else
</span><span>                </span><span style="color:#ff7733;">local </span><span>ext </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">fnamemodify</span><span>(buf_name</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:e&quot;</span><span>)
</span><span>                </span><span style="color:#ff7733;">local </span><span>shorter </span><span style="color:#f29668;">= </span><span>(</span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">len</span><span>(ft) </span><span style="color:#f29668;">&lt; </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">len</span><span>(ext)) </span><span style="color:#f29668;">and </span><span>ft </span><span style="color:#f29668;">or </span><span>ext
</span><span>                </span><span style="color:#ff7733;">return </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;[%s]&quot;</span><span style="color:#bfbab0cc;">, </span><span>shorter)
</span><span>            </span><span style="color:#ff7733;">end
</span><span>        </span><span style="color:#ff7733;">end
</span><span>    </span><span style="color:#ff7733;">end</span><span>)
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="font-style:italic;color:#5c6773;">---@diagnostic disable-next-line: lowercase-global
</span><span style="color:#ff7733;">function </span><span style="color:#ffb454;">status_line</span><span>()
</span><span>    </span><span style="color:#ff7733;">return </span><span style="font-style:italic;color:#f29668;">table</span><span style="color:#f29668;">.</span><span style="color:#f07178;">concat</span><span>({
</span><span>        </span><span style="color:#ffb454;">get_current_mode</span><span>()</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- get current mode
</span><span>        </span><span style="color:#ffb454;">spell_status</span><span>()</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- display language and if spell is on
</span><span>        </span><span style="color:#ffb454;">git_branch</span><span>()</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- branch name
</span><span>        </span><span style="color:#c2d94c;">&quot; %&lt;&quot;</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- spacing
</span><span>        </span><span style="color:#ffb454;">smart_file_path</span><span>()</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- smart full path filename
</span><span>        </span><span style="color:#c2d94c;">&quot;%h%m%r%w&quot;</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- help flag, modified, readonly, and preview
</span><span>        </span><span style="color:#c2d94c;">&quot;%=&quot;</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- right align
</span><span>        </span><span style="color:#ffb454;">status_for_file</span><span>()</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- git status for file
</span><span>        </span><span style="color:#ffb454;">word_count</span><span>()</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- word count
</span><span>        </span><span style="color:#c2d94c;">&quot;[%-3.(%l|%c]&quot;</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- line number, column number
</span><span>        </span><span style="color:#ffb454;">human_file_size</span><span>()</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- file size
</span><span>        </span><span style="color:#ffb454;">file_type</span><span>() </span><span style="font-style:italic;color:#5c6773;">-- file type
</span><span>    })
</span><span style="color:#ff7733;">end
</span><span>
</span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_create_augroup</span><span>(</span><span style="color:#c2d94c;">&quot;StatusLineCache&quot;</span><span style="color:#bfbab0cc;">, </span><span>{})
</span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_create_autocmd</span><span>({</span><span style="color:#c2d94c;">&quot;BufEnter&quot;</span><span>}</span><span style="color:#bfbab0cc;">, </span><span>{
</span><span>    </span><span style="color:#c2d94c;">pattern </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;*&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">group </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;StatusLineCache&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#ffb454;">callback </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#c2d94c;">&quot;git_branch&quot;</span><span>) </span><span style="font-style:italic;color:#5c6773;">-- this should be another event
</span><span>        </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#c2d94c;">&quot;file_status&quot;</span><span>)
</span><span>        </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#c2d94c;">&quot;file_size&quot;</span><span>)
</span><span>        </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#c2d94c;">&quot;file_path&quot;</span><span>)
</span><span>        </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#c2d94c;">&quot;file_type&quot;</span><span>)
</span><span>    </span><span style="color:#ff7733;">end
</span><span>})
</span><span>
</span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_create_autocmd</span><span>({</span><span style="color:#c2d94c;">&quot;BufWritePost&quot;</span><span>}</span><span style="color:#bfbab0cc;">, </span><span>{
</span><span>    </span><span style="color:#c2d94c;">pattern </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;*&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">group </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;StatusLineCache&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#ffb454;">callback </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#c2d94c;">&quot;file_status&quot;</span><span>)
</span><span>        </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#c2d94c;">&quot;file_size&quot;</span><span>)
</span><span>        </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#c2d94c;">&quot;file_path&quot;</span><span>)
</span><span>    </span><span style="color:#ff7733;">end
</span><span>})
</span><span>
</span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_create_autocmd</span><span>({</span><span style="color:#c2d94c;">&quot;WinResized&quot;</span><span>}</span><span style="color:#bfbab0cc;">, </span><span>{
</span><span>    </span><span style="color:#c2d94c;">pattern </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;*&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">group </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;StatusLineCache&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#ffb454;">callback </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#c2d94c;">&quot;git_branch&quot;</span><span>)
</span><span>        </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#c2d94c;">&quot;file_path&quot;</span><span>)
</span><span>        </span><span style="color:#ffb454;">refresh_cache</span><span>(</span><span style="color:#c2d94c;">&quot;file_type&quot;</span><span>)
</span><span>    </span><span style="color:#ff7733;">end
</span><span>})
</span><span>
</span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>statusline </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;%!luaeval(&#39;status_line()&#39;)&quot;
</span><span>
</span><span>vim</span><span style="color:#f29668;">.</span><span>wo</span><span style="color:#f29668;">.</span><span>fillchars </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;eob:~&quot; </span><span style="font-style:italic;color:#5c6773;">-- fillchars of windows
</span><span>
</span></code></pre>
<p>This is my status line. It shows the current mode, language, branch name, file path, git status, word count, line number, column number, file size, and file type. It is a lot, but I hope my documentation helps you understand what each part does. It is extremely minimum but provides me with all the information I require depending on my current state.</p>
<p><img src="https://seniormars.com/posts/neovim-workflow/status1.png" alt="Status Line" /></p>
<p><img src="https://seniormars.com/posts/neovim-workflow/status2.png" alt="Status Line" /></p>
<p><img src="https://seniormars.com/posts/neovim-workflow/status3.png" alt="Status Line" /></p>
<h2 id="formatting"><a class="zola-anchor" href="#formatting" aria-label="Anchor link for: formatting">Formatting</a></h2>
<p>Formatting is essential to any text editor:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_create_user_command</span><span>(</span><span style="color:#c2d94c;">&quot;FixWhitespace&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">[[%s/\s\+$//e]]</span><span style="color:#bfbab0cc;">, </span><span>{})
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;3&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:retab&lt;cr&gt;:FixWhitespace&lt;cr&gt;&quot;</span><span>)
</span></code></pre>
<p>However, I use a plugin to make it more powerful:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{</span><span style="color:#c2d94c;">&quot;sbdchd/neoformat&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- format
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>neoformat_try_formatprg </span><span style="color:#f29668;">= </span><span style="color:#f29718;">1
</span></code></pre>
<p>This allows me to format my code with <code>neoformat</code> and remove trailing whitespace with <code>FixWhitespace</code>. Moreover, I can still use the class <code>=</code> and <code>gq</code> to format my code. Very useful!</p>
<h2 id="better-netrw"><a class="zola-anchor" href="#better-netrw" aria-label="Anchor link for: better-netrw">Better netrw</a></h2>
<p>I know, I know, netrw is not the best file explorer, but I don’t use it enough to care that much. However, I do have some settings to make it more bearable:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>netrw_banner </span><span style="color:#f29668;">= </span><span style="color:#f29718;">0
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>netrw_browse_split </span><span style="color:#f29668;">= </span><span style="color:#f29718;">4
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>netrw_liststyle </span><span style="color:#f29668;">= </span><span style="color:#f29718;">3
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>netrw_winsize </span><span style="color:#f29668;">= -</span><span style="color:#f29718;">28
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>netrw_browsex_viewer </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;open -a firefox&quot;
</span></code></pre>
<p>These settings remove the banner, open the file explorer in a vertical split, use the tree style, and set the size of the file explorer. Moreover, I can open files in the browser with <code>gx</code>.</p>
<p><img src="https://seniormars.com/posts/neovim-workflow/tree.png" alt="Netrw" /></p>
<h2 id="git-integration"><a class="zola-anchor" href="#git-integration" aria-label="Anchor link for: git-integration">Git Integration</a></h2>
<p>Now, I made a video about this (<a rel="noreferrer" href="https://www.youtube.com/watch?v=57x4ZzzCr2Y">here</a>), so I won’t go into too much detail. However, I will show you how I set it up:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{</span><span style="color:#c2d94c;">&quot;tpope/vim-fugitive&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- Git control for vim
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- fugitive
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;gg&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Git&lt;cr&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;ga&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Git add %:p&lt;cr&gt;&lt;cr&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;gd&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Gdiff&lt;cr&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;ge&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Gedit&lt;cr&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;gw&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Gwrite&lt;cr&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;gf&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Commits&lt;cr&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span></code></pre>
<p>Honestly, although this pretty simple, it is extremely powerful. I can see the git status, add files, diff files, edit files, write files, and see commits. Together with <code>gh</code> the github cli, I can do everything I need to do with git (though I do have more, which I will talk about in a later section)!</p>
<p>Finally, I set Neovim to be my merge tool and diff tool (through <code>~/gitconfig</code>):</p>
<pre style="background-color:#0f1419;color:#bfbab0;"><code><span>[user]
</span><span>	email = seniormars@rice.edu
</span><span>	name = SeniorMars
</span><span>	username = SeniorMars
</span><span>	signingkey = 7C668A6D13D5729989FB126B183357B41320BB2B
</span><span>[core]
</span><span>	pager = delta
</span><span>	editor = nvim
</span><span>	excludesfile = /Users/charlie/.config/git/gitignore_global
</span><span>[credential]
</span><span>	helper = cache
</span><span>[init]
</span><span>	defaultBranch = main
</span><span>[diff]
</span><span>	algorithm = patience
</span><span>	compactionHeuristic = true
</span><span>	tool = nvimdiff
</span><span>[difftool &quot;nvimdiff&quot;]
</span><span>	cmd = nvim -d \&quot;$LOCAL\&quot; \&quot;$REMOTE\&quot; -c \&quot;wincmd w\&quot; -c \&quot;wincmd L\&quot;
</span><span>[merge]
</span><span>	tool = nvimdiff4
</span><span>	prompt = false
</span><span>[mergetool &quot;nvimdiff4&quot;]
</span><span>	cmd = nvim -d $LOCAL $BASE $REMOTE $MERGED -c &#39;$wincmd w&#39; -c &#39;wincmd J&#39; -c &#39;set diffopt&amp;&#39; -c &#39;set diffopt+=algorithm:patience&#39;
</span><span>	keepBackup = false
</span></code></pre>
<p>I then use <code>diffget</code> and <code>diffput</code> to merge my files with <code>git mergetool</code></p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>diffopt</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">append</span><span>(</span><span style="color:#c2d94c;">&quot;linematch:50&quot;</span><span>)
</span></code></pre>
<p><img src="https://seniormars.com/posts/neovim-workflow/merge.png" alt="Fugitive" /></p>
<p>With this, we have completed all the fundamentals!</p>
<h1 id="getting-the-full-power-out-of-neovim"><a class="zola-anchor" href="#getting-the-full-power-out-of-neovim" aria-label="Anchor link for: getting-the-full-power-out-of-neovim">Getting the full power out of Neovim</a></h1>
<p>In the last section, I spent a lot of time buffing vim features. However, Neovim has been progressing and has added many new features that I have been taking advantage of. In this section, I will show you how I use these features to make my workflow more efficient.</p>
<h2 id="treesitter"><a class="zola-anchor" href="#treesitter" aria-label="Anchor link for: treesitter">Treesitter</a></h2>
<p>Treesitter is a parser library that is used in real-time editing contexts, where it aims to fill the gap to manipulate and understand your code through the Abstract syntax tree (AST). Take, for instance, syntax highlighting. Originally, syntax highlighting was achieved through regular expressions that would match the tokens of the language you used. However, for large files that was a large tax. Now imagine if instead of matching the literal text to then syntax highlight, your text editor matches the nodes in the AST (and context) to highlight your code. Because treesitter operates within context, it is much more accurate to read your code and provides “better” syntax highlighting. For instance, what is the difference between a macro and a function — should that be highlighted different to notate that it has different behavior? Treesitter says yes, and I agree.</p>
<p>However, if this were the only benefit, I would just shrug off the tool. It’s a lot of development to support a feature like this. It turns out however that treesitter updates its tree while you are typing in real time, which provides additional benefits than just more stable syntax highlighting. Yet, what catches my eyes is the extensibility of treesitter. Here we have a tool that can manipulate the AST – what can you with that? Well, you decide, but here are some of my uses: better code folding, swap function parameters, refactoring entire functions in a way a LSP can’t, and provide integration across multiple programming files.  Note the last one, which, I believe, is a feature that should impress you because if treesitter can work on a file with multiple languages, it can tell you what how comments work in that language, what indentation is ideal, what.a function block is in a language. That’s compelling, and what you can do with treesitter is up to you: you have full control of your text editor and AST.</p>
<p>Treesitter is a tool for a programmer to do more with their code editor and I believe it brings more power to editing, reviewing, and writing code. Let’s take a look at how I write these blogs; I often have Rust, Markdown, and LaTeX:</p>
<p><img src="https://seniormars.com/posts/neovim-workflow/treesitter.png" alt="Treesitter" /></p>
<p>Notice, that treesitter can highlight the syntax of all three languages in the same file!</p>
<p>Here is how I set up treesitter:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="font-style:italic;color:#5c6773;">--- I use lazy.nvim to load plugins 
</span><span>{</span><span style="color:#c2d94c;">&quot;numToStr/Comment.nvim&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- comment
</span><span>{</span><span style="color:#c2d94c;">&quot;nvim-treesitter/nvim-treesitter&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">build </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;:TSUpdate&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- :TSInstallFromGrammar
</span><span>{</span><span style="color:#c2d94c;">&quot;nvim-treesitter/nvim-treesitter-textobjects&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">event </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;InsertEnter&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- TS objects
</span><span>{</span><span style="color:#c2d94c;">&quot;JoosepAlviste/nvim-ts-context-commentstring&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- use TS for comment.nvim
</span><span>{</span><span style="color:#c2d94c;">&quot;danymat/neogen&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">config </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>() </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;neogen&quot;</span><span>)</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setup</span><span>({}) </span><span style="color:#ff7733;">end</span><span>}, 
</span></code></pre>
<p>This setups treesitter, treesitter text objects, treesitter context, and treesitter commentstring. I also use neogen to generate doc comments for me. Additionally, I have the following settings:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;t&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:lua require(&#39;neogen&#39;).generate()&lt;CR&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>foldmethod </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;expr&quot; </span><span style="font-style:italic;color:#5c6773;">-- treesiter time
</span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>foldexpr </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;nvim_treesitter#foldexpr()&quot; </span><span style="font-style:italic;color:#5c6773;">-- treesiter
</span><span>
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>skip_ts_context_commentstring_module </span><span style="color:#f29668;">= </span><span style="color:#f29718;">true
</span><span>
</span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;Comment&quot;</span><span>)</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setup</span><span>({
</span><span>    </span><span style="color:#ffb454;">pre_hook </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#ff7733;">return
</span><span>            </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;ts_context_commentstring.internal&quot;</span><span>)</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">calculate_commentstring</span><span>()
</span><span>    </span><span style="color:#ff7733;">end
</span><span>})
</span><span>
</span><span style="color:#ff7733;">local </span><span>ts_repeat_move </span><span style="color:#f29668;">= </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;nvim-treesitter.textobjects.repeatable_move&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>({</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;x&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;o&quot;</span><span>}</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;;&quot;</span><span style="color:#bfbab0cc;">, </span><span>ts_repeat_move</span><span style="color:#f29668;">.</span><span>repeat_last_move_next)
</span><span style="color:#ffb454;">keyset</span><span>({</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;x&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;o&quot;</span><span>}</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;,&quot;</span><span style="color:#bfbab0cc;">, </span><span>ts_repeat_move</span><span style="color:#f29668;">.</span><span>repeat_last_move_previous)
</span><span style="color:#ffb454;">keyset</span><span>({</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;x&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;o&quot;</span><span>}</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;f&quot;</span><span style="color:#bfbab0cc;">, </span><span>ts_repeat_move</span><span style="color:#f29668;">.</span><span>builtin_f)
</span><span style="color:#ffb454;">keyset</span><span>({</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;x&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;o&quot;</span><span>}</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;F&quot;</span><span style="color:#bfbab0cc;">, </span><span>ts_repeat_move</span><span style="color:#f29668;">.</span><span>builtin_F)
</span><span style="color:#ffb454;">keyset</span><span>({</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;x&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;o&quot;</span><span>}</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;t&quot;</span><span style="color:#bfbab0cc;">, </span><span>ts_repeat_move</span><span style="color:#f29668;">.</span><span>builtin_t)
</span><span style="color:#ffb454;">keyset</span><span>({</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;x&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;o&quot;</span><span>}</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;T&quot;</span><span style="color:#bfbab0cc;">, </span><span>ts_repeat_move</span><span style="color:#f29668;">.</span><span>builtin_T)
</span><span>
</span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;nvim-treesitter.configs&quot;</span><span>)</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setup</span><span>({
</span><span>    </span><span style="color:#c2d94c;">highlight </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">enable </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">disable </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;latex&quot;</span><span>}}</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">indent </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">enable </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">disable </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;python&quot;</span><span>}}</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">textobjects </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>        </span><span style="color:#c2d94c;">move </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>            </span><span style="color:#c2d94c;">enable </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">set_jumps </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- whether to set jumps in the jumplist
</span><span>            </span><span style="color:#c2d94c;">goto_next_start </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>                [</span><span style="color:#c2d94c;">&quot;]m&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@function.outer&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;]]&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">query </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@class.outer&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">desc </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;Next class start&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;]s&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>                    </span><span style="color:#c2d94c;">query </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@scope&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                    </span><span style="color:#c2d94c;">query_group </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;locals&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                    </span><span style="color:#c2d94c;">desc </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;Next scope&quot;
</span><span>                }
</span><span>            }</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">goto_previous_start </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>                [</span><span style="color:#c2d94c;">&quot;[m&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@function.outer&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;[[&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@class.outer&quot;
</span><span>            }</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">goto_next_end </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>                [</span><span style="color:#c2d94c;">&quot;]M&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@function.outer&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;][&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@class.outer&quot;
</span><span>            }</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">goto_previous_end </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>                [</span><span style="color:#c2d94c;">&quot;[M&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@function.outer&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;[]&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@class.outer&quot;
</span><span>            }</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">goto_next </span><span style="color:#bfbab0cc;">= </span><span>{[</span><span style="color:#c2d94c;">&quot;]d&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@conditional.outer&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">goto_previous </span><span style="color:#bfbab0cc;">= </span><span>{[</span><span style="color:#c2d94c;">&quot;[d&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@conditional.outer&quot;</span><span>}
</span><span>        }</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">swap </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>            </span><span style="color:#c2d94c;">enable </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">swap_next </span><span style="color:#bfbab0cc;">= </span><span>{[</span><span style="color:#c2d94c;">&quot;&lt;leader&gt;a&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@parameter.inner&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">swap_previous </span><span style="color:#bfbab0cc;">= </span><span>{[</span><span style="color:#c2d94c;">&quot;&lt;leader&gt;A&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@parameter.inner&quot;</span><span>}
</span><span>        }</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">select </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>            </span><span style="color:#c2d94c;">enable </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">lookahead </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">keymaps </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>                [</span><span style="color:#c2d94c;">&quot;af&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@function.outer&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;if&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@function.inner&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;ac&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@class.outer&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;ic&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;@class.inner&quot;
</span><span>            }</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">selection_modes </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>                [</span><span style="color:#c2d94c;">&quot;@parameter.outer&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;v&quot;</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- charwise
</span><span>                [</span><span style="color:#c2d94c;">&quot;@function.outer&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;V&quot;</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- linewise
</span><span>                [</span><span style="color:#c2d94c;">&quot;@class.outer&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;&lt;c-v&gt;&quot; </span><span style="font-style:italic;color:#5c6773;">-- blockwise
</span><span>            }
</span><span>        }
</span><span>    }</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">incremental_selection </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>        </span><span style="color:#c2d94c;">enable </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">keymaps </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>            </span><span style="color:#c2d94c;">init_selection </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;&lt;space&gt;i&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">scope_incremental </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;&lt;space&gt;i&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">node_incremental </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;&lt;space&gt;n&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">node_decremental </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;&lt;space&gt;p&quot;
</span><span>        }
</span><span>    }
</span><span>})
</span></code></pre>
<p>Together, I am able to swap function parameters, select text objects, and move between text objects. More important, I can generate doc comments and use treesitter to provide context for my code.</p>
<video autoplay loop muted playsinline>
  <source src="https://seniormars.com/posts/neovim-workflow/treesitter.mp4" type="video/mp4">
  Your browser doesn't support the video tag, which I use in place of .gifs, and/or the video formats in use here – sorry!
</video>
<h2 id="better-terminal"><a class="zola-anchor" href="#better-terminal" aria-label="Anchor link for: better-terminal">Better terminal</a></h2>
<p>Neovim has <code>:Term</code>, but I prefer a terminal that persists, can open other TUI apps, and is customizable.</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{</span><span style="color:#c2d94c;">&quot;akinsho/toggleterm.nvim&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- for smart terminal
</span><span>
</span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;toggleterm&quot;</span><span>)</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setup</span><span>({
</span><span>    </span><span style="color:#c2d94c;">shade_terminals </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">highlights </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>        </span><span style="color:#c2d94c;">StatusLine </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">guifg </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;#ffffff&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">guibg </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;#0E1018&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">StatusLineNC </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">guifg </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;#ffffff&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">guibg </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;#0E1018&quot;</span><span>}
</span><span>    }
</span><span>})
</span><span>
</span><span>vim</span><span style="color:#f29668;">.</span><span>opt</span><span style="color:#f29668;">.</span><span>laststatus </span><span style="color:#f29668;">= </span><span style="color:#f29718;">3
</span></code></pre>
<p>Combined, this allows me to focus on one window and have a terminal that is always available:</p>
<p><img src="https://seniormars.com/posts/neovim-workflow/toggleterm.png" alt="Toggleterm" /></p>
<p>In fact, I can combine this with <a rel="noreferrer" href="https://github.com/jesseduffield/lazygit">LazyGit</a> to have a terminal that can run <code>lazygit</code> and <code>nvim</code> at the same time. Let’s have a look:</p>
<video autoplay loop muted playsinline>
  <source src="https://seniormars.com/posts/neovim-workflow/lazygit.mp4" type="video/mp4">
  Your browser doesn't support the video tag, which I use in place of .gifs, and/or the video formats in use here – sorry!
</video>
<p>This allows me to work with git extremely efficiently. Here is the config I use:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;space&gt;&lt;space&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:ToggleTerm size=15&lt;cr&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;space&gt;t&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:ToggleTerm size=70 direction=vertical&lt;cr&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span>
</span><span style="color:#ff7733;">local </span><span>Terminal </span><span style="color:#f29668;">= </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;toggleterm.terminal&quot;</span><span>)</span><span style="color:#f29668;">.</span><span>Terminal
</span><span>
</span><span style="color:#ff7733;">local </span><span>lg_cmd </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;lazygit -w $PWD&quot;
</span><span style="color:#ff7733;">if </span><span>vim</span><span style="color:#f29668;">.</span><span>v</span><span style="color:#f29668;">.</span><span>servername </span><span style="color:#f29668;">~= </span><span style="color:#f29718;">nil </span><span style="color:#ff7733;">then
</span><span>    lg_cmd </span><span style="color:#f29668;">= </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(
</span><span>                 </span><span style="color:#c2d94c;">&quot;NVIM_SERVER=%s lazygit -ucf ~/.config/nvim/lazygit.toml -w $PWD&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                 vim</span><span style="color:#f29668;">.</span><span>v</span><span style="color:#f29668;">.</span><span>servername)
</span><span style="color:#ff7733;">end
</span><span>
</span><span>vim</span><span style="color:#f29668;">.</span><span>env</span><span style="color:#f29668;">.</span><span>GIT_EDITOR </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;nvr -cc split --remote-wait +&#39;set bufhidden=wipe&#39;&quot;
</span><span>
</span><span style="color:#ff7733;">local </span><span>lazygit </span><span style="color:#f29668;">= </span><span>Terminal</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">new</span><span>({
</span><span>    </span><span style="color:#c2d94c;">cmd </span><span style="color:#bfbab0cc;">= </span><span>lg_cmd</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">count </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">5</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">direction </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;float&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">float_opts </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>        </span><span style="color:#c2d94c;">border </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;double&quot;</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#ffb454;">width </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>() </span><span style="color:#ff7733;">return </span><span>vim</span><span style="color:#f29668;">.</span><span>o</span><span style="color:#f29668;">.</span><span>columns </span><span style="color:#ff7733;">end</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#ffb454;">height </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>() </span><span style="color:#ff7733;">return </span><span>vim</span><span style="color:#f29668;">.</span><span>o</span><span style="color:#f29668;">.</span><span>lines </span><span style="color:#ff7733;">end
</span><span>    }</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- function to run on opening the terminal
</span><span>    </span><span style="color:#ffb454;">on_open </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>(</span><span style="color:#f29718;">term</span><span>)
</span><span>        vim</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">cmd</span><span>(</span><span style="color:#c2d94c;">&quot;startinsert!&quot;</span><span>)
</span><span>        vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_buf_set_keymap</span><span>(term</span><span style="color:#f29668;">.</span><span>bufnr</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;q&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;cmd&gt;close&lt;CR&gt;&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                                    {</span><span style="color:#c2d94c;">noremap </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span>    </span><span style="color:#ff7733;">end
</span><span>})
</span><span>
</span><span style="color:#ff7733;">function </span><span style="color:#ffb454;">Edit</span><span>(</span><span style="color:#f29718;">fn</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">line_number</span><span>)
</span><span>    </span><span style="color:#ff7733;">local </span><span>edit_cmd </span><span style="color:#f29668;">= </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;:e %s&quot;</span><span style="color:#bfbab0cc;">, </span><span>fn)
</span><span>    </span><span style="color:#ff7733;">if </span><span>line_number </span><span style="color:#f29668;">~= </span><span style="color:#f29718;">nil </span><span style="color:#ff7733;">then
</span><span>        edit_cmd </span><span style="color:#f29668;">= </span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;:e +%d %s&quot;</span><span style="color:#bfbab0cc;">, </span><span>line_number</span><span style="color:#bfbab0cc;">, </span><span>fn)
</span><span>    </span><span style="color:#ff7733;">end
</span><span>    vim</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">cmd</span><span>(edit_cmd)
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ff7733;">function </span><span style="color:#ffb454;">Lazygit_toggle</span><span>() lazygit</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">toggle</span><span>() </span><span style="color:#ff7733;">end
</span><span>
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;lg&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;cmd&gt;lua Lazygit_toggle()&lt;CR&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span></code></pre>
<p>And here is the <code>lazygit.toml</code> file I use:</p>
<pre data-lang="toml" style="background-color:#0f1419;color:#bfbab0;" class="language-toml "><code class="language-toml" data-lang="toml"><span style="color:#59c2ff;">os</span><span style="color:#ff3333;">:
</span><span>  </span><span style="color:#59c2ff;">edit</span><span style="color:#ff3333;">: &#39;nvim --server $NVIM_SERVER&#39;
</span><span>  </span><span style="color:#59c2ff;">editAtLine</span><span style="color:#ff3333;">: &quot;{{editor}} --remote-send &#39;&lt;C-\\&gt;&lt;C-n&gt;:5ToggleTerm&lt;CR&gt;:lua Edit({{filename}}, {{line}})&lt;CR&gt;&#39;&quot;
</span><span style="color:#59c2ff;">git</span><span style="color:#ff3333;">:
</span><span>  </span><span style="color:#59c2ff;">branchLogCmd</span><span style="color:#ff3333;">: &quot;git log --graph --color=always --abbrev-commit --decorate --date=relative --pretty=medium --oneline {{branchName}} --&quot;
</span><span>  </span><span style="color:#59c2ff;">commitPrefixes</span><span style="color:#ff3333;">:
</span><span>    </span><span style="color:#59c2ff;">my_project</span><span style="color:#ff3333;">:
</span><span>      </span><span style="color:#59c2ff;">pattern</span><span style="color:#ff3333;">: &quot;^\\w+\\/(\\w+-\\w+).*&quot;
</span><span>      </span><span style="color:#59c2ff;">replace</span><span style="color:#ff3333;">: &#39;[$1] &#39;
</span><span>  </span><span style="color:#59c2ff;">paging</span><span style="color:#ff3333;">:
</span><span>    </span><span style="color:#59c2ff;">colorArg</span><span style="color:#ff3333;">: always
</span><span>    </span><span style="color:#59c2ff;">pager</span><span style="color:#ff3333;">: delta --dark --paging=never
</span><span>  </span><span style="color:#59c2ff;">commit</span><span style="color:#ff3333;">:
</span><span>    </span><span style="color:#59c2ff;">signOff</span><span style="color:#ff3333;">: false
</span><span>  </span><span style="color:#59c2ff;">merging</span><span style="color:#ff3333;">:
</span><span>    </span><span style="color:#59c2ff;">manualCommit</span><span style="color:#ff3333;">: false
</span><span>    </span><span style="color:#59c2ff;">args</span><span style="color:#ff3333;">: &#39;&#39;
</span><span>  </span><span style="color:#59c2ff;">log</span><span style="color:#ff3333;">:
</span><span>    </span><span style="color:#59c2ff;">order</span><span style="color:#ff3333;">: &#39;topo-order&#39;
</span><span>    </span><span style="color:#59c2ff;">showGraph</span><span style="color:#ff3333;">: &#39;when-maximised&#39;
</span><span>    </span><span style="color:#59c2ff;">showWholeGraph</span><span style="color:#ff3333;">: false
</span><span>  </span><span style="color:#59c2ff;">skipHookPrefix</span><span style="color:#ff3333;">: WIP
</span><span>  </span><span style="color:#59c2ff;">autoFetch</span><span style="color:#ff3333;">: true
</span><span>  </span><span style="color:#59c2ff;">autoRefresh</span><span style="color:#ff3333;">: true
</span><span>  </span><span style="color:#59c2ff;">allBranchesLogCmd</span><span style="color:#ff3333;">: &#39;git log --graph --all --color=always --abbrev-commit --decorate --date=relative  --pretty=medium&#39;
</span><span>  </span><span style="color:#59c2ff;">overrideGpg</span><span style="color:#ff3333;">: false 
</span><span>  </span><span style="color:#59c2ff;">disableForcePushing</span><span style="color:#ff3333;">: false
</span><span>  </span><span style="color:#59c2ff;">parseEmoji</span><span style="color:#ff3333;">: false
</span><span>  </span><span style="color:#59c2ff;">diffContextSize</span><span style="color:#ff3333;">: 3 # how many lines of context are shown around a change in diffs
</span></code></pre>
<p>This all works through <code>nvr</code>, the neovim remote plugin, so make sure you have that installed.</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#ff7733;">if </span><span style="color:#f29668;">not </span><span>vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">executable</span><span>(</span><span style="color:#c2d94c;">&quot;nvr&quot;</span><span>) </span><span style="color:#ff7733;">then
</span><span>    vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_command</span><span>(</span><span style="color:#c2d94c;">&quot;!pip3 install --user neovim-remote&quot;</span><span>)
</span><span style="color:#ff7733;">end
</span></code></pre>
<h2 id="telescope"><a class="zola-anchor" href="#telescope" aria-label="Anchor link for: telescope">Telescope</a></h2>
<p>Telescope is one of those Neovim plugins that transform how you interact with virtually everything in your development environment—from files, code, documentation, to even running tasks and previewing media. Its extensible and customizable nature makes it a powerhouse for creating a truly personalized development environment. For instance, this is telescope in action with man pages:</p>
<p><img src="https://seniormars.com/posts/neovim-workflow/man.png" alt="Telescope" /></p>
<p>Now, let’s set up telescope:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{
</span><span>    </span><span style="color:#c2d94c;">&quot;nvim-telescope/telescope.nvim&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">dependencies </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;nvim-lua/plenary.nvim&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;nvim-lua/popup.nvim&quot;</span><span>}
</span><span>}, {
</span><span>    </span><span style="color:#c2d94c;">&quot;nvim-telescope/telescope-frecency.nvim&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#ffb454;">config </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;telescope&quot;</span><span>)</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">load_extension </span><span style="color:#c2d94c;">&quot;frecency&quot;
</span><span>    </span><span style="color:#ff7733;">end
</span><span>}
</span></code></pre>
<p>This sets up telescope and telescope-frecency. Frequency is a plugin that allows you to search for files based on how frequently you use them. Here is how I map telescope:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="font-style:italic;color:#5c6773;">-- Telescope
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;&lt;leader&gt;f&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Telescope git_files&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;fl&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Telescope live_grep&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;ff&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Telescope frecency workspace=CWD theme=ivy layout_config={height=0.4} path_display={&#39;shorten&#39;}&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;fb&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Telescope buffers&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;fm&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Telescope man_pages&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;ft&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Telescope treesitter&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;fk&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Telescope keymaps&lt;cr&gt;&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;fh&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;:Telescope help_tags&lt;cr&gt;&quot;</span><span>)
</span></code></pre>
<p>Finally, let’s get to the good parts. Customizing telescope:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="font-style:italic;color:#5c6773;">-- https://github-wiki-see.page/m/nvim-telescope/telescope.nvim/wiki/Configuration-Recipes
</span><span style="color:#ff7733;">local </span><span>actions </span><span style="color:#f29668;">= </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;telescope.actions&quot;</span><span>)
</span><span style="color:#ff7733;">local </span><span>previewers </span><span style="color:#f29668;">= </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;telescope.previewers&quot;</span><span>)
</span><span style="color:#ff7733;">local </span><span>Job </span><span style="color:#f29668;">= </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;plenary.job&quot;</span><span>)
</span><span style="color:#ff7733;">local </span><span>_bad </span><span style="color:#f29668;">= </span><span>{</span><span style="color:#c2d94c;">&quot;.*%.csv&quot;</span><span>} </span><span style="font-style:italic;color:#5c6773;">-- Put all filetypes that slow you down in this array
</span><span style="color:#ff7733;">local </span><span style="color:#ffb454;">bad_files </span><span style="color:#f29668;">= </span><span style="color:#ff7733;">function</span><span>(</span><span style="color:#f29718;">filepath</span><span>)
</span><span>    </span><span style="color:#ff7733;">for </span><span>_</span><span style="color:#bfbab0cc;">, </span><span>v </span><span style="color:#ff7733;">in </span><span style="color:#f07178;">ipairs</span><span>(_bad) </span><span style="color:#ff7733;">do if </span><span>filepath</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">match</span><span>(v) </span><span style="color:#ff7733;">then return </span><span style="color:#f29718;">false </span><span style="color:#ff7733;">end end
</span><span>    </span><span style="color:#ff7733;">return </span><span style="color:#f29718;">true
</span><span style="color:#ff7733;">end
</span><span>
</span><span style="font-style:italic;color:#5c6773;">---@diagnostic disable-next-line: redefined-local
</span><span style="color:#ff7733;">local </span><span style="color:#ffb454;">new_maker </span><span style="color:#f29668;">= </span><span style="color:#ff7733;">function</span><span>(</span><span style="color:#f29718;">filepath</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">bufnr</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">opts</span><span>)
</span><span>    opts </span><span style="color:#f29668;">= </span><span>opts </span><span style="color:#f29668;">or </span><span>{}
</span><span>    </span><span style="color:#ff7733;">if </span><span>opts</span><span style="color:#f29668;">.</span><span>use_ft_detect </span><span style="color:#f29668;">== </span><span style="color:#f29718;">nil </span><span style="color:#ff7733;">then </span><span>opts</span><span style="color:#f29668;">.</span><span>use_ft_detect </span><span style="color:#f29668;">= </span><span style="color:#f29718;">true </span><span style="color:#ff7733;">end
</span><span>    opts</span><span style="color:#f29668;">.</span><span>use_ft_detect </span><span style="color:#f29668;">= </span><span>opts</span><span style="color:#f29668;">.</span><span>use_ft_detect </span><span style="color:#f29668;">== </span><span style="color:#f29718;">false </span><span style="color:#f29668;">and </span><span style="color:#f29718;">false </span><span style="color:#f29668;">or
</span><span>                             </span><span style="color:#ffb454;">bad_files</span><span>(filepath)
</span><span>    filepath </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">expand</span><span>(filepath)
</span><span>
</span><span>    Job</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">new</span><span>({
</span><span>        </span><span style="color:#c2d94c;">command </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;file&quot;</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">args </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;--mime-type&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;-b&quot;</span><span style="color:#bfbab0cc;">, </span><span>filepath}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#ffb454;">on_exit </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>(</span><span style="color:#f29718;">j</span><span>)
</span><span>            </span><span style="color:#ff7733;">local </span><span>mime_type </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">split</span><span>(j</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">result</span><span>()[</span><span style="color:#f29718;">1</span><span>]</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;/&quot;</span><span>)[</span><span style="color:#f29718;">1</span><span>]
</span><span>            </span><span style="color:#ff7733;">if </span><span>mime_type </span><span style="color:#f29668;">== </span><span style="color:#c2d94c;">&quot;text&quot; </span><span style="color:#ff7733;">then
</span><span>                vim</span><span style="color:#f29668;">.</span><span>loop</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">fs_stat</span><span>(filepath</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">function</span><span>(</span><span style="color:#f29718;">_</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">stat</span><span>)
</span><span>                    </span><span style="color:#ff7733;">if </span><span style="color:#f29668;">not </span><span>stat </span><span style="color:#ff7733;">then return end
</span><span>                    </span><span style="color:#ff7733;">if </span><span>stat</span><span style="color:#f29668;">.</span><span>size </span><span style="color:#f29668;">&gt; </span><span style="color:#f29718;">100000 </span><span style="color:#ff7733;">then
</span><span>                        vim</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">schedule</span><span>(</span><span style="color:#ff7733;">function</span><span>()
</span><span>                            vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_buf_set_lines</span><span>(bufnr</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29668;">-</span><span style="color:#f29718;">1</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">,
</span><span>                                                       {</span><span style="color:#c2d94c;">&quot;FILE TOO LARGE&quot;</span><span>})
</span><span>                        </span><span style="color:#ff7733;">end</span><span>)
</span><span>                    </span><span style="color:#ff7733;">else
</span><span>                        previewers</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">buffer_previewer_maker</span><span>(filepath</span><span style="color:#bfbab0cc;">, </span><span>bufnr</span><span style="color:#bfbab0cc;">, </span><span>opts)
</span><span>                    </span><span style="color:#ff7733;">end
</span><span>                </span><span style="color:#ff7733;">end</span><span>)
</span><span>            </span><span style="color:#ff7733;">else
</span><span>                </span><span style="font-style:italic;color:#5c6773;">-- maybe we want to write something to the buffer here
</span><span>                vim</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">schedule</span><span>(</span><span style="color:#ff7733;">function</span><span>()
</span><span>                    vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_buf_set_lines</span><span>(bufnr</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29668;">-</span><span style="color:#f29718;">1</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">&quot;BINARY&quot;</span><span>})
</span><span>                </span><span style="color:#ff7733;">end</span><span>)
</span><span>            </span><span style="color:#ff7733;">end
</span><span>        </span><span style="color:#ff7733;">end
</span><span>    })</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">sync</span><span>()
</span><span style="color:#ff7733;">end
</span></code></pre>
<p>Since I have some large files, I have to check if the file is too large to preview. This is what the <code>new_maker</code> function dos and applies it to the previewer:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;telescope&quot;</span><span>)</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setup</span><span>({
</span><span>    </span><span style="color:#c2d94c;">defaults </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>        </span><span style="color:#c2d94c;">file_sorter </span><span style="color:#bfbab0cc;">= </span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;telescope.sorters&quot;</span><span>)</span><span style="color:#f29668;">.</span><span>get_fzy_sorter</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">buffer_previewer_maker </span><span style="color:#bfbab0cc;">= </span><span>new_maker</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">layout_config </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">prompt_position </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;bottom&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">mappings </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>            </span><span style="color:#c2d94c;">i </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>                [</span><span style="color:#c2d94c;">&quot;&lt;Esc&gt;&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>actions</span><span style="color:#f29668;">.</span><span>close</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;&lt;C-q&gt;&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>actions</span><span style="color:#f29668;">.</span><span>send_to_qflist</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;&lt;C-k&gt;&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>actions</span><span style="color:#f29668;">.</span><span>move_selection_previous</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;&lt;C-j&gt;&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>actions</span><span style="color:#f29668;">.</span><span>move_selection_next</span><span style="color:#bfbab0cc;">,
</span><span>                [</span><span style="color:#c2d94c;">&quot;&lt;C-d&gt;&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span>actions</span><span style="color:#f29668;">.</span><span>delete_buffer </span><span style="color:#f29668;">+ </span><span>actions</span><span style="color:#f29668;">.</span><span>move_to_top
</span><span>            }
</span><span>        }
</span><span>    }</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">pickers </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>        </span><span style="color:#c2d94c;">find_files </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">theme </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;ivy&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">layout_config </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">height </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">.</span><span style="color:#f29718;">4</span><span>}}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">git_files </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">theme </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;ivy&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">layout_config </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">height </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">.</span><span style="color:#f29718;">4</span><span>}}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">live_grep </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">theme </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;ivy&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">layout_config </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">height </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">.</span><span style="color:#f29718;">4</span><span>}}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">buffers </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">theme </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;ivy&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">layout_config </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">height </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">.</span><span style="color:#f29718;">4</span><span>}}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">keymaps </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">theme </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;ivy&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">layout_config </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">height </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">.</span><span style="color:#f29718;">4</span><span>}}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">file_browser </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">theme </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;ivy&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">layout_config </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">height </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">.</span><span style="color:#f29718;">4</span><span>}}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">treesitter </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">theme </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;ivy&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">layout_config </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">height </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">.</span><span style="color:#f29718;">4</span><span>}}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">help_tags </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">theme </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;ivy&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">layout_config </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">height </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">.</span><span style="color:#f29718;">5</span><span>}}</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">man_pages </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>            </span><span style="color:#c2d94c;">sections </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;1&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;2&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;3&quot;</span><span>}</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">theme </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;ivy&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">layout_config </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">height </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">.</span><span style="color:#f29718;">4</span><span>}
</span><span>        }
</span><span>    }</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">extensions </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>        </span><span style="color:#c2d94c;">frecency </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>            </span><span style="color:#c2d94c;">auto_validate </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">matcher </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;fuzzy&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">path_display </span><span style="color:#bfbab0cc;">= </span><span>{</span><span style="color:#c2d94c;">&quot;shorten&quot;</span><span>}
</span><span>        }
</span><span>    }
</span><span>})
</span></code></pre>
<p>Together, I can move around my codebase with ease and preview files without slowing down my editor.</p>
<video autoplay loop muted playsinline>
  <source src="https://seniormars.com/posts/neovim-workflow/tele.mp4" type="video/mp4">
  Your browser doesn't support the video tag, which I use in place of .gifs, and/or the video formats in use here – sorry!
</video>
<p>Note: I wish I could set a default theme for telescope, but I can’t. I have to set it for each picker.</p>
<h2 id="completion"><a class="zola-anchor" href="#completion" aria-label="Anchor link for: completion">Completion</a></h2>
<p>Just a fair warning, I still use <code>coc.nvim</code>, but it works well for me!</p>
<h3 id="copilot"><a class="zola-anchor" href="#copilot" aria-label="Anchor link for: copilot">Copilot</a></h3>
<p>First, I use copilot to complete test cases and boilercode – I don’t trust it for logic, but it has its uses. Specifically, I use the lua version as I find it more configurable:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{
</span><span>    </span><span style="color:#c2d94c;">&quot;zbirenbaum/copilot.lua&quot;</span><span style="color:#bfbab0cc;">, </span><span style="font-style:italic;color:#5c6773;">-- Copilot but lua
</span><span>    </span><span style="color:#c2d94c;">cmd </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;Copilot&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">event </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;InsertEnter&quot;
</span><span>}
</span><span>
</span><span style="color:#f07178;">require</span><span>(</span><span style="color:#c2d94c;">&quot;copilot&quot;</span><span>)</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setup</span><span>({
</span><span>    </span><span style="color:#c2d94c;">panel </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>        </span><span style="color:#c2d94c;">enabled </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">auto_refresh </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">keymap </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>            </span><span style="color:#c2d94c;">jump_prev </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;[[&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">jump_next </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;]]&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">accept </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;&lt;CR&gt;&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">refresh </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;gr&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">open </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;ck&quot;
</span><span>        }</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">layout </span><span style="color:#bfbab0cc;">= </span><span>{ </span><span style="color:#c2d94c;">position </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;bottom&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">ratio </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">.</span><span style="color:#f29718;">4 </span><span>}
</span><span>    }</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">suggestion </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>        </span><span style="color:#c2d94c;">enabled </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">auto_trigger </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">debounce </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">75</span><span style="color:#bfbab0cc;">,
</span><span>        </span><span style="color:#c2d94c;">keymap </span><span style="color:#bfbab0cc;">= </span><span>{
</span><span>            </span><span style="color:#c2d94c;">accept </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;&lt;C-v&gt;&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">accept_word </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">accept_line </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;&lt;C-q&gt;&quot;</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">next </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">prev </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">,
</span><span>            </span><span style="color:#c2d94c;">dismiss </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;&lt;C-]&gt;&quot;
</span><span>        }
</span><span>    }</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">copilot_node_command </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;node&quot;</span><span style="color:#bfbab0cc;">,
</span><span>})
</span><span>
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;leader&gt;ck&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&#39;&lt;cmd&gt;lua require(&quot;copilot.suggestion&quot;).toggle_auto_trigger()&lt;cr&gt;&#39;</span><span>)
</span></code></pre>
<p>This allows me to use copilot to generate boilerplate code and test cases. Moreover, I can toggle the auto trigger with <code>&lt;leader&gt;ck</code>. This allows me to use copilot when I need it and not when I don’t.</p>
<h3 id="coc-nvim"><a class="zola-anchor" href="#coc-nvim" aria-label="Anchor link for: coc-nvim">Coc.nvim</a></h3>
<p>I use coc.nvim for completion, but I have customized almost every single thing:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{</span><span style="color:#c2d94c;">&quot;neoclide/coc.nvim&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">branch </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;release&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">build </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;:CocUpdate&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- auto complete
</span><span>{</span><span style="color:#c2d94c;">&quot;honza/vim-snippets&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- Snippets are separated from the engine so coc can use
</span></code></pre>
<p>This sets up coc.nvim and vim-snippets. Here is how I set up coc.nvim:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_create_user_command</span><span>(</span><span style="color:#c2d94c;">&quot;Format&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;call CocAction(&#39;format&#39;)&quot;</span><span style="color:#bfbab0cc;">, </span><span>{})
</span><span>
</span><span style="color:#ff7733;">function </span><span>_G</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">check_back_space</span><span>()
</span><span>    </span><span style="color:#ff7733;">local </span><span>col </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_win_get_cursor</span><span>(</span><span style="color:#f29718;">0</span><span>)[</span><span style="color:#f29718;">2</span><span>]
</span><span>    </span><span style="color:#ff7733;">local </span><span>has_backspace </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_get_current_line</span><span>()</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">sub</span><span>(col</span><span style="color:#bfbab0cc;">, </span><span>col)</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">match</span><span>(
</span><span>                              </span><span style="color:#c2d94c;">&quot;%s&quot;</span><span>) </span><span style="color:#f29668;">~= </span><span style="color:#f29718;">nil
</span><span>    </span><span style="color:#ff7733;">return </span><span>col </span><span style="color:#f29668;">== </span><span style="color:#f29718;">0 </span><span style="color:#f29668;">or </span><span>has_backspace
</span><span style="color:#ff7733;">end
</span><span>
</span><span>
</span><span style="color:#ff7733;">local </span><span>opts </span><span style="color:#f29668;">= </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">noremap </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">expr </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>}
</span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_set_keymap</span><span>(</span><span style="color:#c2d94c;">&quot;i&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;TAB&gt;&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                        </span><span style="color:#c2d94c;">&#39;coc#pum#visible() ? coc#pum#next(1) : v:lua.check_back_space() ? &quot;&lt;TAB&gt;&quot; : coc#refresh()&#39;</span><span style="color:#bfbab0cc;">,
</span><span>                        opts)
</span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_set_keymap</span><span>(</span><span style="color:#c2d94c;">&quot;i&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;S-TAB&gt;&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                        </span><span style="color:#c2d94c;">[[coc#pum#visible() ? coc#pum#prev(1) : &quot;\&lt;C-h&gt;&quot;]]</span><span style="color:#bfbab0cc;">, </span><span>opts)
</span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_set_keymap</span><span>(</span><span style="color:#c2d94c;">&quot;i&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;cr&gt;&quot;</span><span style="color:#bfbab0cc;">,
</span><span>                        </span><span style="color:#c2d94c;">[[coc#pum#visible() ? coc#pum#confirm() : &quot;\&lt;C-g&gt;u\&lt;CR&gt;\&lt;c-r&gt;=coc#on_enter()\&lt;CR&gt;&quot;]]</span><span style="color:#bfbab0cc;">,
</span><span>                        opts)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;i&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;c-j&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;Plug&gt;(coc-snippets-expand-jump)&quot;</span><span>)
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;i&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&lt;c-space&gt;&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;coc#refresh()&quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">expr </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span><span>
</span><span style="font-style:italic;color:#5c6773;">--- more keymaps 
</span><span>
</span><span style="color:#ffb454;">keyset</span><span>(</span><span style="color:#c2d94c;">&quot;n&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;K&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">function</span><span>()
</span><span>    </span><span style="color:#ff7733;">local </span><span>cw </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">expand</span><span>(</span><span style="color:#c2d94c;">&quot;&lt;cword&gt;&quot;</span><span>)
</span><span>    </span><span style="color:#ff7733;">if </span><span>vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">index</span><span>({</span><span style="color:#c2d94c;">&quot;vim&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;help&quot;</span><span>}</span><span style="color:#bfbab0cc;">, </span><span>vim</span><span style="color:#f29668;">.</span><span>bo</span><span style="color:#f29668;">.</span><span>filetype) </span><span style="color:#f29668;">&gt;= </span><span style="color:#f29718;">0 </span><span style="color:#ff7733;">then
</span><span>        vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_command</span><span>(</span><span style="color:#c2d94c;">&quot;h &quot; </span><span style="color:#f29668;">.. </span><span>cw)
</span><span>    </span><span style="color:#ff7733;">elseif </span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_eval</span><span>(</span><span style="color:#c2d94c;">&quot;coc#rpc#ready()&quot;</span><span>) </span><span style="color:#ff7733;">then
</span><span>        vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">CocActionAsync</span><span>(</span><span style="color:#c2d94c;">&quot;doHover&quot;</span><span>)
</span><span>    </span><span style="color:#ff7733;">else
</span><span>        vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_command</span><span>(</span><span style="font-style:italic;color:#f29668;">string</span><span style="color:#f29668;">.</span><span style="color:#f07178;">format</span><span>(</span><span style="color:#c2d94c;">&quot;!%s %s&quot;</span><span style="color:#bfbab0cc;">, </span><span>vim</span><span style="color:#f29668;">.</span><span>o</span><span style="color:#f29668;">.</span><span>keywordprg</span><span style="color:#bfbab0cc;">, </span><span>cw))
</span><span>    </span><span style="color:#ff7733;">end
</span><span style="color:#ff7733;">end</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">silent </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">true</span><span>})
</span></code></pre>
<p>I know that nvim-lsp is the new hotness, but coc.nvim just has everything I need. I can use it to format my code, check diagnostics, and use snippets. Moreover, I can use it to check the documentation of a function or keyword. I can also use it to check the definition of a function or keyword. Finally, I can use it to check the references of a function or keyword. I can do all of this with a single plugin.</p>
<p>Moreover, I am able to combine it with the quickfix list:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span style="color:#ff7733;">function </span><span>_G</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">diagnostic</span><span>()
</span><span>    vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">CocActionAsync</span><span>(</span><span style="color:#c2d94c;">&quot;diagnosticList&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">function</span><span>(</span><span style="color:#f29718;">err</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">res</span><span>)
</span><span>        </span><span style="color:#ff7733;">if </span><span>err </span><span style="color:#f29668;">== </span><span>vim</span><span style="color:#f29668;">.</span><span>NIL </span><span style="color:#ff7733;">then
</span><span>            </span><span style="color:#ff7733;">if </span><span>vim</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">tbl_isempty</span><span>(res) </span><span style="color:#ff7733;">then return end
</span><span>            </span><span style="color:#ff7733;">local </span><span>items </span><span style="color:#f29668;">= </span><span>{}
</span><span>            </span><span style="color:#ff7733;">for </span><span>_</span><span style="color:#bfbab0cc;">, </span><span>d </span><span style="color:#ff7733;">in </span><span style="color:#f07178;">ipairs</span><span>(res) </span><span style="color:#ff7733;">do
</span><span>                </span><span style="color:#ff7733;">local </span><span>text </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;&quot;
</span><span>                </span><span style="color:#ff7733;">local </span><span style="color:#f07178;">type </span><span style="color:#f29668;">= </span><span>d</span><span style="color:#f29668;">.</span><span>severity
</span><span>                </span><span style="color:#ff7733;">local </span><span>msg </span><span style="color:#f29668;">= </span><span>d</span><span style="color:#f29668;">.</span><span>message</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">match</span><span>(</span><span style="color:#c2d94c;">&quot;([^</span><span style="color:#95e6cb;">\n</span><span style="color:#c2d94c;">]+)</span><span style="color:#95e6cb;">\n</span><span style="color:#c2d94c;">*&quot;</span><span>)
</span><span>                </span><span style="color:#ff7733;">local </span><span>code </span><span style="color:#f29668;">= </span><span>d</span><span style="color:#f29668;">.</span><span>code
</span><span>                </span><span style="color:#ff7733;">if </span><span>code </span><span style="color:#f29668;">== </span><span>vim</span><span style="color:#f29668;">.</span><span>NIL </span><span style="color:#f29668;">or </span><span>code </span><span style="color:#f29668;">== </span><span style="color:#f29718;">nil </span><span style="color:#f29668;">or </span><span>code </span><span style="color:#f29668;">== </span><span style="color:#c2d94c;">&quot;NIL&quot; </span><span style="color:#ff7733;">then
</span><span>                    text </span><span style="color:#f29668;">= </span><span>(</span><span style="color:#c2d94c;">&quot;[%s] %s&quot;</span><span>)</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">format</span><span>(</span><span style="color:#f07178;">type</span><span style="color:#bfbab0cc;">, </span><span>msg)
</span><span>                </span><span style="color:#ff7733;">else
</span><span>                    text </span><span style="color:#f29668;">= </span><span>(</span><span style="color:#c2d94c;">&quot;[%s|%s] %s&quot;</span><span>)</span><span style="color:#f29668;">:</span><span style="color:#ffb454;">format</span><span>(</span><span style="color:#f07178;">type</span><span style="color:#bfbab0cc;">, </span><span>code</span><span style="color:#bfbab0cc;">, </span><span>msg)
</span><span>                </span><span style="color:#ff7733;">end
</span><span>
</span><span>                </span><span style="color:#ff7733;">local </span><span>item </span><span style="color:#f29668;">= </span><span>{
</span><span>                    </span><span style="color:#c2d94c;">filename </span><span style="color:#bfbab0cc;">= </span><span>d</span><span style="color:#f29668;">.</span><span>file</span><span style="color:#bfbab0cc;">,
</span><span>                    </span><span style="color:#c2d94c;">lnum </span><span style="color:#bfbab0cc;">= </span><span>d</span><span style="color:#f29668;">.</span><span>lnum</span><span style="color:#bfbab0cc;">,
</span><span>                    </span><span style="color:#c2d94c;">end_lnum </span><span style="color:#bfbab0cc;">= </span><span>d</span><span style="color:#f29668;">.</span><span>end_lnum</span><span style="color:#bfbab0cc;">,
</span><span>                    </span><span style="color:#c2d94c;">col </span><span style="color:#bfbab0cc;">= </span><span>d</span><span style="color:#f29668;">.</span><span>col</span><span style="color:#bfbab0cc;">,
</span><span>                    </span><span style="color:#c2d94c;">end_col </span><span style="color:#bfbab0cc;">= </span><span>d</span><span style="color:#f29668;">.</span><span>end_col</span><span style="color:#bfbab0cc;">,
</span><span>                    </span><span style="color:#c2d94c;">text </span><span style="color:#bfbab0cc;">= </span><span>text
</span><span>                }
</span><span>                </span><span style="font-style:italic;color:#f29668;">table</span><span style="color:#f29668;">.</span><span style="color:#f07178;">insert</span><span>(items</span><span style="color:#bfbab0cc;">, </span><span>item)
</span><span>            </span><span style="color:#ff7733;">end
</span><span>            vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setqflist</span><span>({}</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot; &quot;</span><span style="color:#bfbab0cc;">,
</span><span>                             {</span><span style="color:#c2d94c;">title </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;CocDiagnosticList&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">items </span><span style="color:#bfbab0cc;">= </span><span>items})
</span><span>            vim</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">cmd</span><span>(</span><span style="color:#c2d94c;">&quot;bo cope&quot;</span><span>)
</span><span>        </span><span style="color:#ff7733;">end
</span><span>    </span><span style="color:#ff7733;">end</span><span>)
</span><span style="color:#ff7733;">end
</span><span>
</span><span>vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_create_augroup</span><span>(</span><span style="color:#c2d94c;">&quot;CocGroup&quot;</span><span style="color:#bfbab0cc;">, </span><span>{})
</span><span>
</span><span style="color:#ffb454;">autocmd</span><span>(</span><span style="color:#c2d94c;">&quot;User&quot;</span><span style="color:#bfbab0cc;">, </span><span>{
</span><span>    </span><span style="color:#c2d94c;">group </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;CocGroup&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">pattern </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;CocLocationsChange&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">desc </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;Update location list on locations change&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#ffb454;">callback </span><span style="color:#bfbab0cc;">= </span><span style="color:#ff7733;">function</span><span>()
</span><span>        </span><span style="color:#ff7733;">local </span><span>locs </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>coc_jump_locations
</span><span>        vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">setloclist</span><span>(</span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">, </span><span>{}</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot; &quot;</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">title </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;CocLocationList&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">items </span><span style="color:#bfbab0cc;">= </span><span>locs})
</span><span>        </span><span style="color:#ff7733;">local </span><span>winid </span><span style="color:#f29668;">= </span><span>vim</span><span style="color:#f29668;">.</span><span>fn</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">getloclist</span><span>(</span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">, </span><span>{</span><span style="color:#c2d94c;">winid </span><span style="color:#bfbab0cc;">= </span><span style="color:#f29718;">0</span><span>})</span><span style="color:#f29668;">.</span><span>winid
</span><span>        </span><span style="color:#ff7733;">if </span><span>winid </span><span style="color:#f29668;">== </span><span style="color:#f29718;">0 </span><span style="color:#ff7733;">then
</span><span>            vim</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">cmd</span><span>(</span><span style="color:#c2d94c;">&quot;bel lw&quot;</span><span>)
</span><span>        </span><span style="color:#ff7733;">else
</span><span>            vim</span><span style="color:#f29668;">.</span><span>api</span><span style="color:#f29668;">.</span><span style="color:#ffb454;">nvim_set_current_win</span><span>(winid)
</span><span>        </span><span style="color:#ff7733;">end
</span><span>    </span><span style="color:#ff7733;">end
</span><span>})
</span><span>
</span><span style="color:#ffb454;">autocmd</span><span>(</span><span style="color:#c2d94c;">&quot;User&quot;</span><span style="color:#bfbab0cc;">, </span><span>{
</span><span>    </span><span style="color:#c2d94c;">group </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;CocGroup&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">pattern </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;CocJumpPlaceholder&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">command </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;call CocActionAsync(&#39;showSignatureHelp&#39;)&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">desc </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;Update signature help on jump placeholder&quot;
</span><span>})
</span><span>
</span><span style="color:#ffb454;">autocmd</span><span>(</span><span style="color:#c2d94c;">&quot;CursorHold&quot;</span><span style="color:#bfbab0cc;">, </span><span>{
</span><span>    </span><span style="color:#c2d94c;">group </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;CocGroup&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">command </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;silent call CocActionAsync(&#39;highlight&#39;)&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">desc </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;Highlight symbol under cursor on CursorHold&quot;
</span><span>})
</span></code></pre>
<p>For instance, Coc makes it easy to use random LSPs like ltex, which I use for grammar checking in LaTeX:</p>
<video autoplay loop muted playsinline>
  <source src="https://seniormars.com/posts/neovim-workflow/coc.mp4" type="video/mp4">
  Your browser doesn't support the video tag, which I use in place of .gifs, and/or the video formats in use here – sorry!
</video>
<p>Finally, here is my config:</p>
<pre data-lang="json" style="background-color:#0f1419;color:#bfbab0;" class="language-json "><code class="language-json" data-lang="json"><span>{
</span><span>  </span><span style="color:#c2d94c;">&quot;suggest.noselect&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;coc.preferences.jumpCommand&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;drop&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;coc.preferences.messageLevel&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;warning&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;coc.preferences.maxFileSize&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;1MB&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;coc.preferences.enableMarkdown&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;ltex.language&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;en-US&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;ltex.additionalRules.motherTongue&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;en-US&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;ltex.completionEnabled&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;ltex.sentenceCacheSize&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">6000</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;ltex.languageToolHttpServerUri&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;https://api.languagetoolplus.com&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;ltex.checkFrequency&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;save&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;ltex.enabled&quot;</span><span style="color:#bfbab0cc;">: </span><span>[
</span><span>    </span><span style="color:#c2d94c;">&quot;bibtex&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;context&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;context.tex&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;html&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;latex&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;markdown&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;org&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;restructuredtext&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;rsweave&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;mail&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;norg&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;help&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  ]</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;ltex.diagnosticSeverity&quot;</span><span style="color:#bfbab0cc;">: </span><span>{
</span><span>    </span><span style="color:#c2d94c;">&quot;CONFUSED_WORDS&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;warning&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;UPPERCASE_SENTENCE_START&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;warning&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;DATE_WEEKDAY&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;warning&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;MORFOLOGIK_RULE_EN_US&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;error&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;EN_CONTRACTION_SPELLING&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;error&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;EN_A_VS_AN&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;error&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;IN_A_X_MANNER&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;hint&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;PASSIVE_VOICE&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;hint&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;EN_SPECIFIC_CASE&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;hint&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;APOS_AR&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;hint&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;DOUBLE_HYPHEN&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;hint&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;AI_EN_LECTOR_MISSING_PUNCTUATION_COMMA&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;hint&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;SENT_START_CONJUNCTIVE_LINKING_ADVERB_COMMA&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;hint&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;default&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;information&quot;
</span><span>  }</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;ltex.configurationTarget&quot;</span><span style="color:#bfbab0cc;">: </span><span>{
</span><span>    </span><span style="color:#c2d94c;">&quot;dictionary&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;userExternalFile&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;disabledRules&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;userExternalFile&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;hiddenFalsePositives&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;userExternalFile&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  }</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;ltex.additionalRules.enablePickyRules&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;diagnostic.hintSign&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;✹&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;diagnostic.errorSign&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;✘&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;diagnostic.warningSign&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;diagnostic.infoSign&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;codeLens.enable&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;codeLens.separator&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot; &quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;codeLens.subseparator&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot; | &quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;notification.disabledProgressSources&quot;</span><span style="color:#bfbab0cc;">: </span><span>[</span><span style="color:#c2d94c;">&quot;*&quot;</span><span>]</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;diagnostic.virtualText&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;diagnostic.virtualTextCurrentLineOnly&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;diagnostic.virtualTextLineSeparator&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;. &quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;diagnostic.virtualTextPrefix&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot; &quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;diagnostic.checkCurrentLine&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;diagnostic.messageTarget&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;float&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;semanticTokens.enable&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;semanticTokens.highlightPriority&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">4096</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;sumneko-lua.enableNvimLuaDev&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;Lua.semantic.enable&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;Lua.hint.enable&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;Lua.hint.arrayIndex&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;Disable&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;Lua.hint.paramName&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;Literal&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;Lua.hint.setType&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;coc.source.word.filetypes&quot;</span><span style="color:#bfbab0cc;">: </span><span>[
</span><span>    </span><span style="color:#c2d94c;">&quot;norg&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;text&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;mail&quot;
</span><span>  ]</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;suggest.snippetIndicator&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot; </span><span style="color:#95e6cb;">\ue796</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;suggest.completionItemKindLabels&quot;</span><span style="color:#bfbab0cc;">: </span><span>{
</span><span>    </span><span style="color:#c2d94c;">&quot;keyword&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf1de</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;variable&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\ue79b</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;value&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf89f</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;operator&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\u03a8</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;function&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\u0192</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;reference&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\ufa46</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;constant&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf8fe</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;method&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf09a</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;struct&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\ufb44</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;class&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf0e8</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;interface&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf417</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;text&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\ue612</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;enum&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf435</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;enumMember&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf02b</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;module&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf40d</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;color&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\ue22b</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;property&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\ue624</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;field&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf9be</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;unit&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf475</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;event&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\ufacd</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;file&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf723</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;folder&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf114</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;snippet&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\ue60b</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;typeParameter&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf728</span><span style="color:#c2d94c;">&quot;</span><span style="color:#bfbab0cc;">,
</span><span>    </span><span style="color:#c2d94c;">&quot;default&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\uf29c</span><span style="color:#c2d94c;">&quot;
</span><span>  }</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;snippets.ultisnips.enable&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&quot;snippets.ultisnips.pythonPrompt&quot;</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">false</span><span style="color:#bfbab0cc;">,
</span><span>}
</span></code></pre>
<h2 id="latex"><a class="zola-anchor" href="#latex" aria-label="Anchor link for: latex">Latex</a></h2>
<p>Finally, as a Math major, I use LaTeX a lot. I use the following plugins to make my LaTeX experience better:</p>
<pre data-lang="lua" style="background-color:#0f1419;color:#bfbab0;" class="language-lua "><code class="language-lua" data-lang="lua"><span>{</span><span style="color:#c2d94c;">&quot;lervag/vimtex&quot;</span><span>}, </span><span style="font-style:italic;color:#5c6773;">-- LaTeX
</span><span style="font-style:italic;color:#5c6773;">-- Vimtex config
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>vimtex_quickfix_mode </span><span style="color:#f29668;">= </span><span style="color:#f29718;">2
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>vimtex_compiler_latexmk_engines </span><span style="color:#f29668;">= </span><span>{[</span><span style="color:#c2d94c;">&quot;_&quot;</span><span>] </span><span style="color:#bfbab0cc;">= </span><span style="color:#c2d94c;">&quot;-lualatex -shell-escape&quot;</span><span>}
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>vimtex_indent_on_ampersands </span><span style="color:#f29668;">= </span><span style="color:#f29718;">0
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>vimtex_view_method </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&#39;sioyek&#39;
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>matchup_override_vimtex </span><span style="color:#f29668;">= </span><span style="color:#f29718;">1
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Other settings
</span><span>vim</span><span style="color:#f29668;">.</span><span>g</span><span style="color:#f29668;">.</span><span>latexindent_opt </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;-m&quot; </span><span style="font-style:italic;color:#5c6773;">-- for neoformat, I use latexindent
</span></code></pre>
<p>Together with <code>sioyek</code>, I can compile my LaTeX documents and view them in a pdf viewer automatically. Moreover, I can use <code>latexindent</code> to format my LaTeX documents.</p>
<video autoplay loop muted playsinline>
  <source src="https://seniormars.com/posts/neovim-workflow/latex.mp4" type="video/mp4">
  Your browser doesn't support the video tag, which I use in place of .gifs, and/or the video formats in use here – sorry!
</video>
<h1 id="conclusions"><a class="zola-anchor" href="#conclusions" aria-label="Anchor link for: conclusions">Conclusions</a></h1>
<p>I know that was a lot, but I hope you learned something new. I have been using Neovim for a while now, and I have to say that it has been a game changer. I have been able to customize my text editor to fit my needs and make me more productive. I hope that you can do the same.</p>
<p>Please let me know if you have any questions or comments. I would love to hear from you.</p>
<p>SeniorMars</p>

        </section>
    </article>
</main>



        
            
        

        
        <div class="giscus"></div>
         <script src="https://giscus.app/client.js"
        data-repo="SeniorMars/seniormars.com"
        data-repo-id="R_kgDOJQ6QAQ"
        data-category="Announcements"
        data-category-id="DIC_kwDOJQ6QAc4CgC4Q"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>

        
    </div>
</body>

</html>
